import{r as s,c as me,d as Q,a as he,dH as fe,E as ge,dL as xe,j as t}from"./index-CcNgdVLz.js";import{A as be}from"./ArrowBack-Dpb-03kv.js";import{C as ve}from"./Close-eApB0hKv.js";import{a as ae,P as X,c as ne,m as ie,u as P,b as Se,d as B,I as oe,e as F,f as Ce,g as _e,h as ye,i as we,j as M,S as ee,k as se,l as Ee,A as Ne,n as Pe,o as je,p as Ie,q as Le,r as De,s as te,t as Te,v as re,w as Ae,x as O,y as ke,L as Me,F as Oe,T as ze,Z as Be,D as Fe}from"./thumbnails-qXa_Wtv4.js";import{S as _}from"./skeleton-DjwwWlQi.js";import{T as He}from"./Typography-BMOygWke.js";import{D as Re}from"./Divider-BePmc644.js";import"./createSvgIcon-ClJPFlmG.js";import"./dividerClasses-Bv38dMpn.js";const Ve={autoplay:!1,delay:3e3,ref:null},le=a=>({...Ve,...a}),ce=s.createContext(null),Ue=ie("useSlideshow","SlideshowContext",ce);function Ye({slideshow:a,carousel:{finite:e},on:n,children:i}){const{autoplay:r,delay:c,ref:d}=le(a),p=s.useRef(r),[o,S]=s.useState(r),j=s.useRef(void 0),x=s.useRef(void 0),{slides:D,currentIndex:w}=Ce(),{setTimeout:T,clearTimeout:I}=_e(),{subscribe:f}=ye(),{next:A}=B(),{setAutoPlaying:m}=we();s.useEffect(()=>m(o),[o,m]);const u=D.length===0||e&&w===D.length-1,k=s.useCallback(()=>{!o&&!u&&S(!0)},[o,u]),L=s.useCallback(()=>{o&&S(!1)},[o]),b=s.useCallback(()=>{I(j.current),j.current=void 0},[I]),v=M(()=>{b(),!(!o||u||x.current===ee||x.current===se)&&(j.current=T(()=>{o&&(x.current=void 0,A())},c))});s.useEffect(v,[w,o,v]),s.useEffect(()=>{o&&u&&S(!1)},[w,o,u]);const E=M(()=>{var h;return(h=n.slideshowStart)===null||h===void 0?void 0:h.call(n)}),N=M(()=>{var h;return(h=n.slideshowStop)===null||h===void 0?void 0:h.call(n)});s.useEffect(()=>{o?E():p.current&&N(),p.current=o},[o,E,N]),s.useEffect(()=>Ee(b,f(De,()=>{x.current=ee,b()}),f(Le,()=>{x.current=se,b()}),f(je,()=>{x.current=Ie,v()}),f(Ne,()=>{x.current=Pe,v()})),[f,b,v]);const C=s.useMemo(()=>({playing:o,disabled:u,play:k,pause:L}),[o,u,k,L]);return s.useImperativeHandle(d,()=>C,[C]),s.createElement(ce.Provider,{value:C},i)}const $e=F("Play",s.createElement("path",{d:"M8 5v14l11-7z"})),Ge=F("Pause",s.createElement("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}));function We(){const{playing:a,disabled:e,play:n,pause:i}=Ue(),{render:r}=P(),c=Se(B().focus,e);return r.buttonSlideshow?s.createElement(s.Fragment,null,r.buttonSlideshow({playing:a,disabled:e,play:n,pause:i})):s.createElement(oe,{label:a?"Pause":"Play",icon:a?Ge:$e,renderIcon:a?r.iconSlideshowPause:r.iconSlideshowPlay,onClick:a?i:n,disabled:e,...c})}function Ze({augment:a,addModule:e}){a(({slideshow:n,toolbar:i,...r})=>({toolbar:ae(i,X,s.createElement(We,null)),slideshow:le(n),...r})),e(ne(X,Ye))}const y=a=>Ae(`slide_${a}`),z={descriptionTextAlign:"start",descriptionMaxLines:3,showToggle:!1,hidden:!1},H=a=>({...z,...a});function qe(){const{captions:a}=P();return H(a)}const de=s.createContext(null),R=ie("useCaptions","CaptionsContext",de);function Ke({captions:a,children:e}){const{ref:n,hidden:i}=H(a),[r,c]=s.useState(!i),d=s.useMemo(()=>({visible:r,show:()=>c(!0),hide:()=>c(!1)}),[r]);return s.useImperativeHandle(n,()=>d,[d]),s.createElement(de.Provider,{value:d},e)}function Je({title:a}){const{toolbarWidth:e}=B(),{styles:n}=P(),{visible:i}=R();return i?s.createElement("div",{role:"heading","aria-level":2,style:n.captionsTitleContainer,className:re(y("captions_container"),y("title_container"))},s.createElement("div",{className:y("title"),style:{...e?{[O("toolbar_width")]:`${e}px`}:null,...n.captionsTitle}},a)):null}function Qe({description:a}){const{descriptionTextAlign:e,descriptionMaxLines:n}=qe(),{styles:i,labels:r}=P(),{visible:c}=R();return c?s.createElement("div",{style:i.captionsDescriptionContainer,className:re(y("captions_container"),y("description_container"))},s.createElement("div",{className:y("description"),style:{...e!==z.descriptionTextAlign||n!==z.descriptionMaxLines?{[O("slide_description_text_align")]:e,[O("slide_description_max_lines")]:n}:null,...i.captionsDescription},role:"paragraph","aria-roledescription":ke(r,"Caption")},typeof a=="string"?a.split(`
`).flatMap((d,p)=>[...p>0?[s.createElement("br",{key:p})]:[],d]):a)):null}const ue=()=>s.createElement(s.Fragment,null,s.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),s.createElement("path",{d:"M7 15h3c.55 0 1-.45 1-1v-1H9.5v.5h-2v-3h2v.5H11v-1c0-.55-.45-1-1-1H7c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1zm7 0h3c.55 0 1-.45 1-1v-1h-1.5v.5h-2v-3h2v.5H18v-1c0-.55-.45-1-1-1h-3c-.55 0-1 .45-1 1v4c0 .55.45 1 1 1z"})),Xe=F("CaptionsVisible",ue()),es=Te("CaptionsVisible",ue());function ss(){const{visible:a,show:e,hide:n}=R(),{render:i}=P();return i.buttonCaptions?s.createElement(s.Fragment,null,i.buttonCaptions({visible:a,show:e,hide:n})):s.createElement(oe,{label:a?"Hide captions":"Show captions",icon:a?Xe:es,renderIcon:a?i.iconCaptionsVisible:i.iconCaptionsHidden,onClick:a?n:e})}function ts({augment:a,addModule:e}){a(({captions:n,render:{slideFooter:i,...r},toolbar:c,...d})=>{const p=H(n);return{render:{slideFooter:({slide:o})=>s.createElement(s.Fragment,null,i==null?void 0:i({slide:o}),o.title&&s.createElement(Je,{title:o.title}),o.description&&s.createElement(Qe,{description:o.description})),...r},toolbar:ae(c,te,p.showToggle?s.createElement(ss,null):null),captions:p,...d}}),e(ne(te,Ke))}const as=()=>{var b,v,E,N,C,h,V,U,Y,$,G,W,Z,q,K,J;const a=me(),e=Q(l=>l.ProductLisiting.productdetails),n=Q(l=>l.ProductLisiting.loading),[i,r]=s.useState(!1),[c,d]=s.useState(0),[p,o]=s.useState(!1),[S,j]=s.useState(null),[x,D]=s.useState("car"),[w,T]=s.useState(!0),I=he();s.useEffect(()=>{const l=setTimeout(()=>T(!1),1e3);return()=>clearTimeout(l)},[]);const{carId:f}=fe(),[A]=ge(),m=A.get("type")||"car";if(s.useEffect(()=>{f&&m&&a(xe({_id:f,type:m}))},[f,m,a]),n||!e||w)return t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 px-6 py-10 bg-white",children:[t.jsxs("div",{children:[t.jsx(_,{height:400,borderRadius:12}),t.jsx("div",{className:"grid grid-cols-4 gap-2 mt-4",children:Array.from({length:4}).map((l,g)=>t.jsx(_,{height:80},g))})]}),t.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow",children:[t.jsx(_,{height:32,width:"40%",className:"mb-4"}),t.jsx(_,{height:6,width:"100%",className:"mb-4"}),t.jsx("div",{className:"grid grid-cols-2 gap-y-4 gap-x-6 mt-4 font-outfit",children:Array.from({length:12}).map((l,g)=>t.jsxs("div",{children:[t.jsx(_,{height:14,width:"60%"}),t.jsx(_,{height:18})]},g))})]})]});const u=e.images||[],L=m==="sparepart"?[["Brand Name",e.brand_name],["Product Type",e.product_type_name],["Condition",e.condition_name],["Year of Manufacture",e.year_of_manufacture],["Price",`₹${(b=e.price)==null?void 0:b.toLocaleString("en-IN")}`],["City",((v=e.city_name)==null?void 0:v.charAt(0).toUpperCase())+((E=e.city_name)==null?void 0:E.slice(1).toLowerCase())],["Description",e.description],["Published",e.isPublished?"Yes":"No"],["Sold",e.isSold?"Yes":"No"],["Dealer Name",((N=e.user_id)==null?void 0:N.name)||"-"],["Dealer Email",((C=e.user_id)==null?void 0:C.email)||"-"]]:[["Brand Name",e.brand_name],[`${m.charAt(0).toUpperCase()}${m.slice(1)} Name`,e.car_name||e.bike_name||e.sparepart_name],["Fuel Type",e.fuel_type],["Model Name",e.model_name],["Color",e.color_name],["Ownership",e.ownership],["City",((h=e.city_name)==null?void 0:h.charAt(0).toUpperCase())+((V=e.city_name)==null?void 0:V.slice(1).toLowerCase())],["Kilometers Driven",`${(U=e.kilometers_driven)==null?void 0:U.toLocaleString()} km`],["Price",`₹${(Y=e.price)==null?void 0:Y.toLocaleString("en-IN")}`],["Year",e.year],["Transmission",e.transmission||"Manual"],["Listing Date",new Date(e.createdAt).toLocaleDateString("en-IN")],["Dealer Name",(($=e.user_id)==null?void 0:$.name)||"-"],["Dealer Phone",((G=e.user_id)==null?void 0:G.phone)||"-"],["Dealer Email",((W=e.user_id)==null?void 0:W.email)||"-"],["Dealer Address",((Z=e.user_id)==null?void 0:Z.address)||"-"],["Dealer Business Name",((q=e.user_id)==null?void 0:q.business_name)||"-"],["Dealer Business Contact No",((K=e.user_id)==null?void 0:K.business_contact_no)||"-"],["Dealer Business WhatsApp No",((J=e.user_id)==null?void 0:J.business_whatsapp_no)||"-"],["Published",e.isPublished?"Yes":"No"],["Sold",e.isSold?"Yes":"No"]];return t.jsxs(t.Fragment,{children:[p&&S&&t.jsx("div",{className:"fixed inset-0 z-50 bg-white bg-opacity-80 flex items-center justify-center",children:t.jsxs("div",{className:"relative",children:[t.jsx("button",{className:"absolute top-2 right-2 text-white bg-black/60 hover:bg-black/80 p-1 rounded-full z-10",onClick:()=>o(!1),children:t.jsx(ve,{style:{fontSize:28}})}),t.jsx("img",{src:S,alt:"preview",className:"max-w-[90vw] max-h-[90vh] object-contain rounded"})]})}),t.jsx("div",{className:"px-6 pt-6 bg-white flex items-center gap-2",children:t.jsxs("button",{onClick:()=>I(-1),className:"flex items-center text-[#255593] hover:underline",children:[t.jsx(be,{fontSize:"small"}),t.jsx("span",{className:"ml-1 font-medium",children:"Back"})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-10 px-6 py-10 bg-white",children:[t.jsx("div",{children:t.jsxs("div",{children:[t.jsx("div",{className:"w-full h-[400px] rounded-lg overflow-hidden mb-4",children:u[0]&&t.jsx("img",{src:u[0].url,alt:"main",className:"w-full h-full object-contain cursor-pointer",onClick:()=>{d(0),r(!0)}})}),t.jsx("div",{className:"grid grid-cols-4 gap-2",children:u.map((l,g)=>t.jsx("img",{src:l.url,alt:`thumb-${g}`,className:"h-20 w-full object-cover border rounded cursor-pointer",onClick:()=>{d(g),r(!0)}},g))}),t.jsx(Me,{open:i,close:()=>r(!1),index:c,slides:u.map(l=>({src:l.url,title:"Product Image",description:"Click to zoom or download"})),plugins:[Oe,Ze,ze,Be,Fe,ts],slideshow:{autoplay:!0,delay:3e3},zoom:{maxZoomPixelRatio:3}})]})}),t.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow",children:[t.jsxs(He,{variant:"h5",className:"font-bold text-gray-700 mb-4 font-outfit",children:[m.toUpperCase()," DETAILS"]}),t.jsx(Re,{sx:{borderColor:"#255593",borderBottomWidth:"2px"}}),t.jsx("div",{className:"grid grid-cols-2 gap-y-4 gap-x-6 mt-4 font-outfit",children:L.map(([l,g],pe)=>t.jsxs("div",{children:[t.jsx("p",{className:"text-gray-500 text-sm",children:l}),t.jsx("p",{className:"text-gray-800 font-medium",children:g||"-"})]},pe))})]})]})]})},ms=()=>t.jsx(t.Fragment,{children:t.jsx(as,{})});export{ms as default};
