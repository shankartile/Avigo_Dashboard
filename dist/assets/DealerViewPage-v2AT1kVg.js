import{r as a,c as V,d as W,dH as ge,a as je,dI as Z,dJ as ee,dK as te,dL as Te,j as e,B as r,dM as se,dN as M,dO as Ae,aB as Le,dP as ke,aI as Fe,dQ as H,dR as Ee,dS as Be}from"./index-CcNgdVLz.js";import{C as be}from"./Close-eApB0hKv.js";import{S as w}from"./skeleton-DjwwWlQi.js";import{V as We}from"./Visibility-Bad1pPYX.js";import{D as O,T as me,b as he,c as xe,d as N,e as u,f as Ke}from"./DataTable-DIxG5frN.js";import{C as ae}from"./Chip-YFG14ne-.js";import{T as ye}from"./Tooltip-C-v54PpA.js";import{I as ne,P as fe}from"./AlertTitle-C4QpKbd8.js";import{T as y}from"./Typography-BMOygWke.js";import{B as ie}from"./Button-B4_V5GRV.js";import{A as Ve}from"./Add-CQx2oSmS.js";import{D as pe,ac as Me}from"./DateTimeField-CYfYG2Su.js";import{A as Re}from"./Alert-U3gIVFWt.js";import{P as ze}from"./PictureAsPdf-BWh0P8Xv.js";import{D as _e,a as Se}from"./Dialog-BdfS6Lfy.js";import{D as De}from"./DialogTitle-BbPUlM9A.js";import{T as Ue,a as Y}from"./Tabs-CWf6flOX.js";import"./createSvgIcon-ClJPFlmG.js";import"./Cancel-CkCQy-6N.js";import"./utils-BtYGnpaM.js";import"./index-CLpR2HuM.js";import"./CircularProgress-CVM8C023.js";import"./Pagination-DR3bn4wR.js";import"./Divider-BePmc644.js";import"./dividerClasses-Bv38dMpn.js";import"./useSlotProps-z1QAC-gu.js";import"./index-D3LyqDt4.js";const $e=({dealer:t})=>{const[m,b]=a.useState("car"),[I,v]=a.useState(""),[p,_]=a.useState(""),[c,h]=a.useState(""),[o,d]=a.useState(0),[n,f]=a.useState(10),[C,D]=a.useState([]),[P,j]=a.useState(""),i=V(),{dealerListings:g,totalItems:T}=W(x=>x.DealerManagement),{carId:L}=ge(),k=je();a.useEffect(()=>{const x=setTimeout(()=>{m==="car"?i(Z({search:c,type:"car",page:o,limit:n,userId:t._id})):m==="bike"?i(ee({search:c,type:"bike",page:o,limit:n,userId:t._id})):m==="sparepart"&&i(te({search:c,type:"sparepart",page:o,limit:n,userId:t._id}))},500);return()=>clearTimeout(x)},[i,m,o,n,c,t._id]),a.useEffect(()=>{L&&i(Te({_id:L,type:m}))},[L,i]);const q=x=>{const F=sessionStorage.getItem("activeRole")==="staff"?"staff":"superadmin";k(`/${F}/car-details/${x._id}?type=${x.type}`)},K=a.useMemo(()=>[{accessorKey:m==="car"?"car_name":m==="bike"?"bike_name":"brand_name",header:"Product Title",id:"listingTitle"},{accessorKey:"viewCount",header:"Views Per Listing",id:"viewCount",Cell:({cell:S})=>e.jsx(r,{display:"flex",justifyContent:"start",children:e.jsx(ae,{className:"font-outfit",label:S.getValue(),color:"primary",size:"medium",sx:{fontWeight:500}})})},{accessorKey:"leadCount",header:"Leads Per Listing",id:"leadCount",Cell:({cell:S})=>e.jsx(r,{display:"flex",justifyContent:"start",children:e.jsx(ae,{className:"font-outfit",label:S.getValue(),color:"warning",size:"medium",sx:{fontWeight:500}})})},{accessorKey:"createdAt",header:"Posted Date",id:"createdAt",Cell:({cell:S})=>new Date(S.getValue()).toLocaleDateString("en-IN")},{id:"actions",header:"Actions",Cell:({row:S})=>e.jsx(ye,{title:"View details",children:e.jsx(r,{display:"flex",gap:1,children:e.jsx(ne,{color:"primary",onClick:()=>q(S.original),children:e.jsx(We,{})})})})}],[m]),R=async x=>{if(h(x),d(0),!(t!=null&&t._id))return;const E={search:x,page:0,limit:10,userId:t._id};try{m==="car"?await i(Z({...E,type:"car"})):m==="bike"?await i(ee({...E,type:"bike"})):m==="sparepart"&&await i(te({...E,type:"sparepart"}))}catch(G){console.error(`Error fetching ${m} listings:`,G)}};return e.jsxs(r,{className:"mt-10 w-full max-w-8xl",children:[e.jsxs(y,{className:"font-outfit",sx:{fontWeight:600},children:["Total Listings: ",g.length]}),e.jsx(O,{clickHandler:R,data:g,enableProducttypeFilter:!0,productTypeValue:m,onProducttypeChange:x=>{b(x),d(0),x==="car"?i(Z({search:c,type:"car",page:o,limit:n,userId:t._id})):x==="bike"?i(ee({search:c,type:"bike",page:o,limit:n,userId:t._id})):x==="sparepart"&&i(te({search:c,type:"sparepart",page:o,limit:n,userId:t._id}))},columns:K,pageIndex:o,pageSize:n,rowCount:T,onPaginationChange:({pageIndex:x,pageSize:S})=>{d(x),f(S)}})]})},He=({dealer:t})=>{const[m,b]=a.useState(""),[I,v]=a.useState(""),[p,_]=a.useState(""),[c,h]=a.useState(0),[o,d]=a.useState(10),n=V(),{dealerLeads:f,totalItems:C}=W(i=>i.DealerManagement),D=f;a.useEffect(()=>{const i=setTimeout(()=>{t!=null&&t._id&&n(se({userId:t._id,page:c,limit:o,search:p}))},500);return()=>clearTimeout(i)},[t==null?void 0:t._id,c,o,p]);const P=async i=>{_(i),h(0),t!=null&&t._id&&(await n(se({search:i,userId:t._id})),n(se({search:i,page:0,limit:10,userId:t._id})))},j=[{accessorKey:"buyerName",header:"Buyer Name"},{accessorKey:"phone",header:"Contact no"},{accessorFn:i=>`${i.brandName} - ${i.modelName}`,id:"listingTitle",header:"Product Title",Cell:({cell:i})=>e.jsx("span",{children:i.getValue()})},{accessorKey:"interactionType",header:"Interatcion Type"},{accessorKey:"date",header:"Date of Inquiry"}];return e.jsxs(r,{className:"mt-10 w-full max-w-8xl",children:[e.jsxs(y,{variant:"subtitle1",className:"font-outfit",sx:{fontWeight:600},children:["Total Leads: ",D.length]}),e.jsx(O,{clickHandler:P,data:D,columns:j,pageIndex:c,pageSize:o,rowCount:C,onPaginationChange:({pageIndex:i,pageSize:g})=>{h(i),d(g)}})]})},Ye=({dealer:t})=>{var oe;const[m,b]=a.useState({plan_id:"",category_id:""}),[I,v]=a.useState(!1),[p,_]=a.useState(null),[c,h]=a.useState(""),[o,d]=a.useState(""),[n,f]=a.useState(""),[C,D]=a.useState(""),[P,j]=a.useState(""),[i,g]=a.useState(""),[T,L]=a.useState(""),[k,q]=a.useState(""),[K,R]=a.useState(0),[x,S]=a.useState(10),[F,E]=a.useState(null),[G,J]=a.useState(""),[we,B]=a.useState(!1),A=V(),{SubscriptionList:z}=W(s=>s.Subscription),{dealerSubscription:Ne,totalItems:ve}=W(s=>s.DealerManagement),U=Ne;a.useEffect(()=>{const s=setTimeout(()=>{t!=null&&t._id&&A(M({userId:t._id,page:K,limit:x,search:k}))},500);return()=>clearTimeout(s)},[t==null?void 0:t._id,K,x,k]),a.useEffect(()=>{I&&A(Ae({search:k,limit:x}))},[I,A]),a.useEffect(()=>{var s;p&&b({plan_id:(s=p.subscription_plan_id)==null?void 0:s._id,category_id:p.subscription_plan_id.category_id})},[p]);const Ce=async()=>{if(!m.plan_id||!i||!T){E("error"),J("Please fill all required fields."),B(!0),setTimeout(()=>B(!1),3e3);return}try{const s={dealer_id:t._id,subscription_plan_id:m.plan_id,category_id:m.category_id,start_date:i,end_date:T},l=await A(ke(s)).unwrap();E("success"),J("Subscription assigned successfully."),B(!0),setTimeout(()=>B(!1),8e3),A(M({search:k,page:K,limit:x,userId:t._id})),re()}catch(s){console.log("assignsubscription error:",s);let l="Failed to assign subscription";typeof s=="string"?l=s:((s==null?void 0:s.code)==="DUPLICATE_SUBSCRIPTION"||s!=null&&s.message)&&(l=s.message),E("error"),J(l),B(!0),setTimeout(()=>B(!1),5e3)}},Pe=[{header:"Plan Subscribed",id:"subscription_plan_id.plan_name",accessorFn:s=>{var l;return((l=s.subscription_plan_id)==null?void 0:l.plan_name)||"N/A"}},{header:"Category",id:"category_id.category_name",accessorFn:s=>{var l;return((l=s.category_id)==null?void 0:l.category_name)||"N/A"}},{header:"Amount Paid (₹)",id:"subscription_plan_id.price",accessorFn:s=>{var l;return((l=s.subscription_plan_id)==null?void 0:l.price)??0},Cell:({cell:s})=>`₹${s.getValue()}`},{header:"Start Date",accessorFn:s=>s.start_date,Cell:({cell:s})=>new Date(s.getValue()).toLocaleDateString("en-IN")},{header:"End Date",accessorFn:s=>s.end_date,Cell:({cell:s})=>new Date(s.getValue()).toLocaleDateString("en-IN")},{header:"Status",Cell:({row:s})=>{const l=new Date(s.original.end_date)>=new Date;return e.jsx(ae,{label:l?"Active":"Expired",color:l?"success":"error",size:"small",sx:{fontWeight:500,fontFamily:"Outfit"}})}},{header:"Invoice",Cell:({row:s})=>{const l=s.original,$=async()=>{var ce,le;if(l.invoice_url)window.open(l.invoice_url,"_blank");else try{const ue=(le=(ce=(await Fe.post(`/dealer/dealerSubscriptionRoute/generate-invoice/${l._id}`)).data)==null?void 0:ce.data)==null?void 0:le.invoiceUrl;ue?window.open(ue,"_blank"):console.error("Invoice URL not found")}catch(de){console.error("Error generating invoice",de)}};return e.jsx(ze,{color:l.isActive?"primary":"error",style:{cursor:"pointer"},onClick:$})}}],re=()=>{b({plan_id:"",category_id:""}),g(""),L(""),_(null)},Q=()=>{re(),v(!1)},X=U==null?void 0:U.find(s=>new Date(s.end_date)>=new Date),Ie=async s=>{q(s),R(0),t!=null&&t._id&&(await A(M({search:s,page:0,limit:10,userId:t._id})),A(M({search:s,page:0,limit:10,userId:t._id})))};return e.jsx(e.Fragment,{children:e.jsxs(r,{className:"mt-10 w-full max-w-8xl",children:[e.jsxs(r,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxs(y,{variant:"subtitle1",className:"font-outfit",sx:{fontWeight:600},children:["Current Plan:"," ",e.jsx("strong",{children:((oe=X==null?void 0:X.subscription_plan_id)==null?void 0:oe.plan_name)||"No Active Plan"})]}),e.jsxs(ie,{onClick:()=>{_(null),v(!0)},children:[e.jsx(Ve,{})," Assign Plan"]})]}),e.jsx(O,{data:U,clickHandler:Ie,columns:Pe,pageIndex:K,pageSize:x,rowCount:ve,onPaginationChange:({pageIndex:s,pageSize:l})=>{R(s),S(l),A(M({userId:t._id,search:k,page:s,limit:l}))}}),e.jsxs(_e,{open:I,onClose:Q,maxWidth:"sm",fullWidth:!0,PaperProps:{sx:{borderRadius:"25px"}},BackdropProps:{sx:{backdropFilter:"blur(4px)",backgroundColor:"rgba(0, 0, 0, 0.2)"}},children:[e.jsxs(r,{sx:{background:"linear-gradient( #255593 103.05%)",height:60,px:4,display:"flex",alignItems:"center",justifyContent:"space-between",color:"white"},children:[e.jsx(De,{className:"font-outfit",sx:{color:"white"},children:"Assign Subscription Plan"}),e.jsx(ne,{sx:{color:"white"},onClick:Q,children:e.jsx(be,{})})]}),e.jsxs(Se,{children:[we&&F&&e.jsx(r,{mb:2,children:e.jsx(Re,{type:F,title:F==="success"?"Success!":F==="error"?"Error!":"Warning!",message:G,variant:"filled",showLink:!1,linkHref:"",linkText:"",onClose:()=>B(!1)})}),p!==void 0&&e.jsxs(r,{display:"flex",flexDirection:"column",gap:2,mt:2,children:[e.jsxs("div",{className:"flex flex-col",children:[e.jsxs("label",{className:"text-sm text-gray-600 dark:text-white mb-1 block",children:["Plans ",e.jsx("span",{className:"text-error-500",children:" * "})]}),e.jsxs("select",{name:"plan_id",value:m.plan_id,onChange:s=>{const l=z.find($=>$._id===s.target.value);b(l?{plan_id:l._id,category_id:l.category_id}:{plan_id:"",category_id:""})},className:"mt-1 p-2 border rounded",children:[e.jsx("option",{value:"",children:"Select Subscription Plan"}),z==null?void 0:z.filter(s=>s.isActive).map(s=>e.jsxs("option",{value:s._id,children:[s.google_product_id," — ",s.plan_name," — ₹",s.price]},s._id))]})]}),e.jsxs(r,{display:"flex",gap:10,children:[e.jsx(pe,{widthClass:"50",label:"Start Date",name:"start_date",type:"date",value:i??"",onChange:s=>g(s.target.value),minDate:Le().format("YYYY-MM-DD")}),e.jsx(pe,{widthClass:"50",label:"End Date",name:"end_date",type:"date",value:T??"",onChange:s=>L(s.target.value),minDate:i})]}),e.jsxs(r,{display:"flex",justifyContent:"center",gap:3,mt:4,children:[m.plan_id&&i&&T&&e.jsx(ie,{onClick:Ce,children:"Save"}),e.jsx(ie,{variant:"secondary",onClick:Q,children:"Cancel"})]})]})]})]})]})})},Oe=({dealer:t})=>{const[m,b]=a.useState(""),[I,v]=a.useState(""),[p,_]=a.useState(""),[c,h]=a.useState(0),[o,d]=a.useState(10),n=V(),{dealerActivity:f,totalItems:C}=W(i=>i.DealerManagement),D=f;a.useEffect(()=>{const i=setTimeout(()=>{t!=null&&t._id&&n(H({userId:t._id,page:c,limit:o,search:p}))},500);return()=>clearTimeout(i)},[t==null?void 0:t._id,c,o,p]);const P=async(i,g)=>{_(i),h(0),g&&(t!=null&&t._id)&&(await n(H({search:i,exportType:g,userId:t._id})),n(H({search:i,page:0,limit:10,userId:t._id})))},j=[{accessorFn:i=>i.activity_type?i.activity_type.toLowerCase().split("_").map(g=>g.charAt(0).toUpperCase()+g.slice(1)).join(" "):"",id:"activity_type",header:"Activity"},{accessorKey:"product_type",header:"Category"},{accessorKey:"title",header:"Details"}];return e.jsx(r,{className:"mt-10 w-full max-w-8xl",children:e.jsx(O,{clickHandler:P,exportType:!0,data:D,columns:j,pageIndex:c,pageSize:o,rowCount:C,onPaginationChange:({pageIndex:i,pageSize:g})=>{h(i),d(g),n(H({userId:t._id,search:p,page:i,limit:g}))}})})},qe=({dealer:t})=>{var n,f,C,D;const m=V(),{kycDetails:b,loading:I,error:v}=W(P=>P.DealerManagement);if(a.useEffect(()=>{t!=null&&t._id&&m(Ee({dealerId:t._id}))},[t==null?void 0:t._id,m]),I)return e.jsx(y,{className:"font-outfit",children:"Loading KYC details..."});if(v)return e.jsxs(y,{className:"font-outfit",color:"error",children:["Error: ",v]});if(!b)return e.jsx(y,{className:"font-outfit",children:"No KYC details found"});const{pdfUrl:p,CertificateData:_}=b,c=_==null?void 0:_.KycRes,h=(n=c==null?void 0:c.UidData)==null?void 0:n.Poi,o=(f=c==null?void 0:c.UidData)==null?void 0:f.Poa,d=(C=c==null?void 0:c.UidData)==null?void 0:C.LData;return e.jsxs(r,{className:"mt-6 p-4 bg-white rounded-xl shadow",children:[e.jsx(y,{variant:"h6",className:"font-outfit mb-4",children:"KYC Details"}),e.jsxs(r,{sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4,justifyContent:"center",alignItems:"stretch"},children:[e.jsxs(r,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[e.jsx(y,{variant:"subtitle1",sx:{fontWeight:600},className:"font-outfit mb-2",children:"Personal Information"}),e.jsxs(me,{component:fe,sx:{flex:1},children:[" ",e.jsx(he,{children:e.jsxs(xe,{children:[e.jsxs(N,{children:[e.jsx(u,{className:"font-outfit",children:e.jsx("strong",{children:"Name"})}),e.jsxs(u,{className:"font-outfit",children:[h==null?void 0:h.name," (",d==null?void 0:d.name,")"]})]}),e.jsxs(N,{children:[e.jsx(u,{className:"font-outfit",children:e.jsx("strong",{children:"Date of Birth"})}),e.jsx(u,{className:"font-outfit",children:h==null?void 0:h.dob})]}),e.jsxs(N,{children:[e.jsx(u,{className:"font-outfit",children:e.jsx("strong",{children:"Gender"})}),e.jsx(u,{className:"font-outfit",children:h==null?void 0:h.gender})]}),e.jsxs(N,{children:[e.jsx(u,{className:"font-outfit",children:e.jsx("strong",{children:"Aadhaar No"})}),e.jsx(u,{className:"font-outfit",children:(D=c==null?void 0:c.UidData)==null?void 0:D.uid})]}),e.jsx(N,{children:e.jsx(u,{colSpan:2,align:"center",children:e.jsx(Me,{variant:"contained",color:"primary",href:p,target:"_blank",rel:"noopener noreferrer",className:"font-outfit",children:"View Aadhaar PDF"})})})]})})]})]}),e.jsxs(r,{sx:{flex:1,display:"flex",flexDirection:"column"},children:[e.jsx(y,{variant:"subtitle1",sx:{fontWeight:600},className:"font-outfit mb-2",children:"Address Information"}),e.jsx(me,{component:fe,sx:{flex:1},children:e.jsxs(he,{children:[e.jsx(Ke,{children:e.jsxs(N,{children:[e.jsx(u,{className:"font-outfit",children:e.jsx("strong",{children:"Field"})}),e.jsx(u,{className:"font-outfit",children:e.jsx("strong",{children:"English"})}),e.jsx(u,{className:"font-outfit",children:e.jsx("strong",{children:"Local"})})]})}),e.jsxs(xe,{children:[e.jsxs(N,{children:[e.jsx(u,{className:"font-outfit",children:"Village / Town"}),e.jsx(u,{className:"font-outfit",children:o==null?void 0:o.vtc}),e.jsx(u,{className:"font-outfit",children:d==null?void 0:d.vtc})]}),e.jsxs(N,{children:[e.jsx(u,{className:"font-outfit",children:"District"}),e.jsx(u,{className:"font-outfit",children:o==null?void 0:o.dist}),e.jsx(u,{className:"font-outfit",children:d==null?void 0:d.dist})]}),e.jsxs(N,{children:[e.jsx(u,{className:"font-outfit",children:"State"}),e.jsx(u,{className:"font-outfit",children:o==null?void 0:o.state}),e.jsx(u,{className:"font-outfit",children:d==null?void 0:d.state})]}),e.jsxs(N,{children:[e.jsx(u,{className:"font-outfit",children:"Pincode"}),e.jsx(u,{className:"font-outfit",children:o==null?void 0:o.pc}),e.jsx(u,{className:"font-outfit",children:d==null?void 0:d.pc})]}),e.jsxs(N,{children:[e.jsx(u,{className:"font-outfit",children:"Care Of"}),e.jsx(u,{className:"font-outfit",children:o==null?void 0:o.co}),e.jsx(u,{className:"font-outfit",children:d==null?void 0:d.co})]})]})]})})]})]})]})},Ge=()=>{var D,P;const[t,m]=a.useState(0),[b,I]=a.useState(null),[v,p]=a.useState(!1),[_,c]=a.useState(!0);a.useEffect(()=>{const j=setTimeout(()=>c(!1),1e3);return()=>clearTimeout(j)},[]);const{dealerId:h}=ge(),o=V(),d=je(),n=W(j=>j.DealerManagement.selectedDealer);a.useEffect(()=>{!n&&h&&o(Be(h)).unwrap().catch(()=>{const i=sessionStorage.getItem("activeRole")==="staff"?"staff":"superadmin";d(`/${i}/dealerviewpage/${h}`)})},[n,h,o]);const f=({label:j,value:i})=>e.jsxs(r,{children:[e.jsx(y,{className:"font-outfit",variant:"body2",sx:{color:"#888",fontWeight:500},children:j}),e.jsx(y,{variant:"body1",className:"font-outfit",children:i})]}),C=()=>e.jsxs(r,{className:"flex flex-col items-center px-4 pt-1 pb-4",children:[e.jsxs(r,{className:"bg-white rounded-2xl shadow-md p-4 w-full max-w-8xl",sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4},children:[e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:{xs:"100%",md:"40%"},borderRight:{md:"1px solid #e0e0e0"},pr:{md:4},mb:{xs:4,md:0}},children:[e.jsx(w,{circle:!0,height:150,width:150}),e.jsx(w,{height:30,width:120,style:{marginTop:10}}),e.jsx(w,{height:20,width:200})]}),e.jsxs(r,{sx:{flex:1,pl:{md:4},display:"flex",flexDirection:"column",gap:4},children:[e.jsxs(r,{children:[e.jsx(w,{height:25,width:"40%"}),e.jsx(r,{className:"grid grid-cols-1 sm:grid-cols-2 gap-5 mt-2",children:[...Array(4)].map((j,i)=>e.jsxs(r,{children:[e.jsx(w,{height:15,width:"60%"}),e.jsx(w,{height:20})]},i))})]}),e.jsxs(r,{children:[e.jsx(w,{height:25,width:"40%"}),e.jsx(r,{className:"grid grid-cols-1 sm:grid-cols-2 gap-5 mt-2",children:[...Array(6)].map((j,i)=>e.jsxs(r,{children:[e.jsx(w,{height:15,width:"60%"}),e.jsx(w,{height:20})]},i))})]})]})]}),e.jsx(r,{sx:{backgroundColor:"white",borderRadius:2,boxShadow:1,width:"100%",mt:4,padding:2},children:e.jsx(w,{height:40})}),e.jsx(r,{className:"w-full mt-4 bg-white rounded-xl shadow p-4",children:e.jsx(w,{height:300})})]});return n?_?C():e.jsxs(r,{className:"flex flex-col items-center px-4 pt-1 pb-4",children:[e.jsxs(r,{className:"bg-white rounded-2xl shadow-md p-4 w-full max-w-8xl",sx:{display:"flex",flexDirection:{xs:"column",md:"row"},gap:4},children:[e.jsxs(r,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:{xs:"100%",md:"40%"},borderRight:{md:"1px solid #e0e0e0"},pr:{md:4},mb:{xs:4,md:0}},children:[e.jsx(ye,{title:"Click to view full image",arrow:!0,children:e.jsx(r,{sx:{textAlign:"center"},children:e.jsx(r,{sx:{width:150,height:150,borderRadius:"50%",mb:2,border:"2px solid #ddd",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1976d2",color:"white",fontSize:"60px",cursor:"default",textTransform:"uppercase",userSelect:"none"},children:((D=n.name)==null?void 0:D[0])||"U"})})}),e.jsx(y,{variant:"h4",className:"font-outfit",children:n.name})]}),e.jsxs(r,{sx:{flex:1,pl:{md:4},display:"flex",flexDirection:"column",gap:4},children:[e.jsxs(r,{children:[e.jsx(y,{className:"font-outfit underline",variant:"subtitle1",sx:{fontWeight:600,mb:1},children:"Personal Details"}),e.jsxs(r,{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[e.jsx(f,{label:"Mobile No",value:n.phone}),e.jsx(f,{label:"City",value:n.city||"N/A"}),e.jsx(f,{label:"PAN No",value:n.pan_no}),e.jsx(f,{label:"Account status",value:n.isActive?"Active":"Blocked"})]})]}),e.jsxs(r,{children:[e.jsx(y,{className:"font-outfit underline",variant:"subtitle1",sx:{fontWeight:600,mb:1},children:"Business Details"}),e.jsxs(r,{className:"grid grid-cols-1 sm:grid-cols-2 gap-5",children:[e.jsx(f,{label:"Business Name",value:n.business_name||"N/A"}),e.jsx(f,{label:"Registered Dealership Category",value:(P=n.dealershipCategories)!=null&&P.length?n.dealershipCategories.join(", "):"N/A"}),e.jsx(f,{label:"Active Dealership Category",value:n.activeDealershipCategory||"N/A"}),e.jsx(f,{label:"Business Contact",value:n.business_contact_no||"N/A"}),e.jsx(f,{label:"Business WhatsApp",value:n.business_whatsapp_no||"N/A"}),e.jsx(f,{label:"Address",value:n.address||"N/A"}),e.jsx(f,{label:"Registered Date",value:new Date(n.createdAt).toLocaleDateString("en-IN")})]})]})]})]}),e.jsx(r,{sx:{backgroundColor:"white",borderRadius:2,boxShadow:1,width:"100%",mt:4},children:e.jsxs(Ue,{value:t,onChange:(j,i)=>m(i),variant:"fullWidth",children:[e.jsx(Y,{className:"font-outfit",label:"Listings"}),e.jsx(Y,{className:"font-outfit",label:"Leads"}),e.jsx(Y,{className:"font-outfit",label:"Subscription"}),e.jsx(Y,{className:"font-outfit",label:"Activity Log"})]})}),t===0&&e.jsx($e,{dealer:n}),t===1&&e.jsx(He,{dealer:n}),t===2&&e.jsx(Ye,{dealer:n}),t===3&&e.jsx(Oe,{dealer:n}),t===4&&e.jsx(qe,{dealer:n}),e.jsxs(_e,{open:v,onClose:()=>p(!1),maxWidth:"sm",fullWidth:!0,children:[e.jsx(De,{className:"font-outfit",children:"Image Preview"}),e.jsx(Se,{children:b&&e.jsx("img",{src:b,alt:"Preview",style:{width:"100%",maxHeight:"500px",objectFit:"contain",borderRadius:12}})}),e.jsx(ne,{sx:{position:"absolute",top:12,right:12,color:"black"},onClick:()=>p(!1),children:e.jsx(be,{})})]})]}):null},Dt=()=>e.jsx(e.Fragment,{children:e.jsx(Ge,{})});export{Dt as default};
