import{j as t,r as n}from"./index-N8t8oMzR.js";import{A}from"./AddPhotoAlternate-DwefdB9m.js";import{T as O}from"./Tooltip-CwyNn424.js";import{c as P}from"./createSvgIcon-DUEWsKfg.js";const T=P(t.jsx("path",{d:"M16.5 6.75v10.58c0 2.09-1.53 3.95-3.61 4.15-2.39.23-4.39-1.64-4.39-3.98V5.14c0-1.31.94-2.5 2.24-2.63 1.5-.15 2.76 1.02 2.76 2.49v10.5c0 .55-.45 1-1 1s-1-.45-1-1V6.75c0-.41-.34-.75-.75-.75s-.75.34-.75.75v8.61c0 1.31.94 2.5 2.24 2.63 1.5.15 2.76-1.02 2.76-2.49V5.17c0-2.09-1.53-3.95-3.61-4.15C9.01.79 7 2.66 7 5v12.27c0 2.87 2.1 5.44 4.96 5.71 3.29.3 6.04-2.26 6.04-5.48V6.75c0-.41-.34-.75-.75-.75s-.75.34-.75.75"})),M=({id:m,name:y="image",className:j="",onChange:a,accept:o="image/*",iconOnly:b=!1,resetKey:z})=>{const[x,l]=n.useState(""),[p,d]=n.useState(""),[g,v]=n.useState(null),[F,u]=n.useState(!1),c=n.useRef(null),h=e=>{if(!e)return l("File is required"),!1;const s=1*1024*1024,r=e.type.startsWith("image/"),i=e.type==="application/pdf",f=o.includes("application/pdf"),S=o.includes("image/");return i&&!f||r&&!S||!i&&!r?(l("Only allowed file types are: "+o),!1):r&&!["image/jpeg","image/png","image/jpg","image/webp"].includes(e.type)?(l("Only JPG, JPEG, PNG images are allowed!"),!1):e.size>s?(l("File size must be less than 1MB!"),!1):(l(""),!0)},D=e=>{var r;const s=((r=e.target.files)==null?void 0:r[0])||null;v(e.target.files),h(s)?(d(s.name),a==null||a(e)):(d(""),e.target&&(e.target.value=""))},N=e=>{var r;e.preventDefault();const s=((r=e.dataTransfer.files)==null?void 0:r[0])||null;if(h(s)){d(s.name);const i=new DataTransfer;if(i.items.add(s),c.current){c.current.files=i.files;const f={...e,target:c.current};a==null||a(f)}}u(!1)},w=e=>{e.preventDefault(),u(!0)},I=()=>{u(!1)};return t.jsx(O,{title:"Attach files",placement:"left",arrow:!0,children:t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:"file",id:m,name:y,accept:o,onChange:D,ref:c,className:`hidden ${j}`,multiple:!0}),b?t.jsx("label",{htmlFor:m,className:"cursor-pointer text-blue-600 hover:text-blue-800",children:t.jsx(T,{fontSize:"medium"})}):t.jsx("label",{htmlFor:m,className:`cursor-pointer text-gray-400 hover:text-gray-600 flex items-center gap-2 border-b-1 border-gray-300 px-2 py-1 min-w-[400px] ${F?"border-blue-500 bg-blue-100":""}`,onDragOver:w,onDragLeave:I,onDrop:N,children:p?t.jsx("span",{className:"text-sm text-gray-500 font-medium",children:p}):t.jsxs(t.Fragment,{children:[t.jsx("span",{children:"Drag & Drop or Click to Upload"}),t.jsx(A,{})]})}),x?t.jsx("p",{className:"mt-1.5 text-xs text-red-600",children:x}):p?t.jsx("p",{className:"mt-1.5 text-xs text-gray-500 font-medium",children:g&&Array.from(g).map((e,s)=>t.jsxs("span",{children:[e.name,",Â  "]},s))}):t.jsx("p",{className:"mt-1 text-xs text-gray-400 italic",children:"* File size should be up to 1 MB"})]})})};export{M as F};
