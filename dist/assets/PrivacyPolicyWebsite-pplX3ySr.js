import{c as A,d as B,r as s,ee as g,j as e,B as t,ef as N}from"./index-CcNgdVLz.js";import{J as E}from"./jodit-react-B7Ng6XVx.js";import{I as y}from"./InputField-BQ5ewBIw.js";import{B as R}from"./Button-B4_V5GRV.js";import{A as C}from"./Alert-U3gIVFWt.js";import{S as r}from"./skeleton-DjwwWlQi.js";import{T as j}from"./Typography-BMOygWke.js";import"./utils-BtYGnpaM.js";import"./createSvgIcon-ClJPFlmG.js";import"./AlertTitle-C4QpKbd8.js";import"./CircularProgress-CVM8C023.js";const W=()=>{const l=A(),{data:i}=B(a=>a.privacypolicy),[c,h]=s.useState(!1),[d,m]=s.useState(""),[u,p]=s.useState(""),[n,f]=s.useState(null),[b,x]=s.useState(""),[w,o]=s.useState(!1),[T,S]=s.useState(!0);s.useEffect(()=>{const a=setTimeout(()=>S(!1),1e3);return()=>clearTimeout(a)},[]),s.useEffect(()=>{l(g())},[l]),s.useEffect(()=>{i&&(m(i.title),p(i.description))},[i]);const v=async()=>{if(!c){h(!0);try{if(!(i!=null&&i._id))return;await l(N({id:i._id,payload:{title:d,description:u}})).unwrap(),f("success"),x("Website Privacy Policy updated successfully."),o(!0),setTimeout(()=>o(!1),3e3),l(g())}catch{f("error"),x("Failed to update Privacy policy."),o(!0),setTimeout(()=>o(!1),3e3)}finally{h(!1)}}},P=d.trim()!==""&&u.trim()!=="",k=()=>e.jsxs(t,{className:"max-w-8xl mx-auto rounded-xl shadow-md bg-white mb-10",children:[e.jsx(t,{sx:{background:"linear-gradient( #255593 103.05%)",height:60,px:4,display:"flex",alignItems:"center",borderTopLeftRadius:12,borderTopRightRadius:12,color:"white"},children:e.jsx(r,{height:30,width:"40%"})}),e.jsxs(t,{className:"p-6 space-y-6",children:[e.jsxs(t,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(r,{height:56}),e.jsx(r,{height:56})]}),e.jsxs(t,{children:[e.jsx(r,{height:24,width:"20%",style:{marginBottom:8}}),e.jsx(r,{height:400})]}),e.jsx(t,{display:"flex",justifyContent:"center",gap:4,children:e.jsx(r,{height:40,width:120})})]})]});return e.jsxs(e.Fragment,{children:[w&&n&&e.jsx("div",{className:"p-4",children:e.jsx(C,{type:n,title:n==="success"?"Success!":n==="error"?"Error!":"Warning!",message:b,variant:"filled",showLink:!1,linkHref:"",linkText:"",onClose:()=>o(!1)})}),T?k():e.jsxs(t,{className:"max-w-8xl mx-auto rounded-xl shadow-md bg-white mb-10",children:[e.jsx(t,{sx:{background:"linear-gradient( #255593 103.05%)",height:60,px:4,display:"flex",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:12,borderTopRightRadius:12,color:"white"},children:e.jsx(j,{className:"font-outfit",variant:"h6",children:"Website Privacy Policy"})}),e.jsxs(t,{className:"p-6 space-y-6",children:[e.jsxs(t,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(y,{label:"Title",name:"title",value:d,onChange:a=>m(a.target.value)}),e.jsx(y,{label:"Type",name:"type",value:"Website",disabled:!0})]}),e.jsxs(t,{children:[e.jsx(j,{variant:"subtitle1",className:"font-outfit mb-2 text-gray-600",children:"Description"}),e.jsx(E,{value:u,config:{height:400,uploader:{insertImageAsBase64URI:!0},toolbarAdaptive:!1,askBeforePasteHTML:!1,askBeforePasteFromWord:!1,defaultActionOnPaste:"insert_clear_html",enableDragAndDropFileToEditor:!0},onBlur:a=>p(a),onChange:()=>{}})]}),e.jsx(t,{display:"flex",justifyContent:"center",gap:4,children:e.jsx(R,{disabled:!P||c,onClick:v,children:c?"Updating...":"Update"})})]})]})]})},z=()=>e.jsx(e.Fragment,{children:e.jsx(W,{})});export{z as default};
