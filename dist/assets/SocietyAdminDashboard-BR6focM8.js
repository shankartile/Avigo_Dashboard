import{c as j,a as T,u as v,d as S,r as s,i as y,j as t,B as l}from"./index-CNh2Ysd7.js";import{S as u}from"./skeleton-H-TAVWvB.js";import{I as k}from"./Info-BLOe8JuO.js";import{C as r}from"./Card-Dc_NElbC.js";import{A as N}from"./Alert-BBsTbpkb.js";import{T as a}from"./Typography-DxP0RQcB.js";import{T as C}from"./Tooltip-B4POfKz-.js";import"./createSvgIcon-BgVIxfXN.js";import"./index-BfVZHwAX.js";import"./utils-lR4eRFL7.js";import"./AlertTitle-BBXxFqxI.js";import"./CircularProgress-B1SplcgD.js";import"./useSlotProps-Dx6fg7Ph.js";const R=()=>{const p=j(),h=T(),i=v(),{summary:m,loading:x}=S(o=>o.admindashboard),e=m,[f,b]=s.useState(!0),[n,c]=s.useState(null);s.useEffect(()=>{p(y());const o=setTimeout(()=>b(!1),800);return()=>clearTimeout(o)},[p]),s.useEffect(()=>{var o;if((o=i.state)!=null&&o.alert){c(i.state.alert);const d=setTimeout(()=>{c(null),h(i.pathname,{replace:!0})},2e3);return()=>clearTimeout(d)}},[i,h]);const g=()=>t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:Array.from({length:7}).map((o,d)=>t.jsxs(l,{sx:{p:2,bgcolor:"#fff",borderRadius:2,boxShadow:1},children:[t.jsx(u,{height:22,width:"70%"}),t.jsx(u,{height:36,width:"40%",style:{marginTop:8}})]},d))});return t.jsxs("div",{children:[n&&t.jsx(N,{type:n.type,title:n.title,message:n.message,variant:"filled",showLink:!1,linkHref:"",linkText:"",onClose:()=>c(null)}),t.jsxs("div",{className:"p-6",children:[t.jsxs(a,{variant:"h5",fontWeight:500,mb:2,children:["Dashboard",t.jsx(C,{title:"Disply count of all modules,display graph and calculations !",arrow:!0,slotProps:{popper:{sx:{"& .MuiTooltip-tooltip":{fontSize:"0.8rem",backgroundColor:"#245492",color:"#fff",fontFamily:"Outfit",padding:"8px 12px"},"& .MuiTooltip-arrow":{color:"#245492"}}}},children:t.jsx(k,{fontSize:"medium",sx:{color:"#245492",cursor:"pointer"},onClick:o=>o.stopPropagation()})})]}),f||x?g():t.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-4",children:[t.jsx(r,{title:"Total No. Flats",tooltip:"Total number of flats count",value:((e==null?void 0:e.numberResident)||0)+((e==null?void 0:e.numberTenants)||0),navigateLink:"/admin/membermanagement",percentage:"",isIncrease:!1,hideChart:!0,children:t.jsx(l,{display:"flex",gap:1,mt:2,children:[{label:"Resident",color:"#2563eb",count:(e==null?void 0:e.numberResident)||0},{label:"Tenants",color:"#16a34a",count:(e==null?void 0:e.numberTenants)||0}].map(o=>t.jsxs(l,{flex:1,p:1,textAlign:"center",bgcolor:"#f9fafb",borderRadius:2,children:[t.jsx(a,{variant:"caption",children:o.label}),t.jsx(a,{variant:"h5",fontWeight:"bold",sx:{color:o.color},children:o.count})]},o.label))})}),t.jsx(r,{title:"Total No. Complaints Raised",tooltip:"Total number of complaints raised",value:((e==null?void 0:e.numberPending)||0)+((e==null?void 0:e.numberSolved)||0),percentage:"",isIncrease:!1,hideChart:!0,children:t.jsx(l,{display:"flex",gap:1,mt:2,children:[{label:"Pending",color:"#dc2626",count:(e==null?void 0:e.numberPending)||0},{label:"Solved",color:"#22c55e",count:(e==null?void 0:e.numberSolved)||0}].map(o=>t.jsxs(l,{flex:1,p:1,textAlign:"center",bgcolor:"#f9fafb",borderRadius:2,children:[t.jsx(a,{variant:"caption",children:o.label}),t.jsx(a,{variant:"h5",fontWeight:"bold",sx:{color:o.color},children:o.count})]},o.label))})}),t.jsx(r,{title:"Total Amount. Maintenance",tooltip:"Total amount of Maintenance received this month",value:((e==null?void 0:e.numberPaid)||0)+((e==null?void 0:e.numberUnpaid)||0),percentage:"",isIncrease:!1,hideChart:!0,children:t.jsx(l,{display:"flex",gap:1,mt:2,children:[{label:"Paid",color:"#0ea5e9",count:(e==null?void 0:e.numberPaid)||0},{label:"Unpaid",color:"#f97316",count:(e==null?void 0:e.numberUnpaid)||0}].map(o=>t.jsxs(l,{flex:1,p:1,textAlign:"center",bgcolor:"#f9fafb",borderRadius:2,children:[t.jsx(a,{variant:"caption",children:o.label}),t.jsx(a,{variant:"h5",fontWeight:"bold",sx:{color:o.color},children:o.count})]},o.label))})}),t.jsx(r,{title:"Total No. Expenses",tooltip:"Total expenses of this month",value:(e==null?void 0:e.totalExpenses)||0,percentage:"",isIncrease:!1,hideChart:!0,children:t.jsx(a,{variant:"h5",fontWeight:"bold",sx:{color:"#7c3aed"},children:(e==null?void 0:e.totalExpenses)||0})}),t.jsx(r,{title:"Total No. Visitor",tooltip:"Total visitor visit today",value:(e==null?void 0:e.totalVisitor)||0,percentage:"",isIncrease:!1,hideChart:!0,children:t.jsx(a,{variant:"h5",fontWeight:"bold",sx:{color:"#0891b2"},children:(e==null?void 0:e.totalVisitor)||0})}),t.jsx(r,{title:"Total No. of Support Tickets Raised",tooltip:"Support tickets",value:(e==null?void 0:e.totalSupportTickets)||0,navigateLink:"/admin/supportticket-management",percentage:"",isIncrease:!1,hideChart:!0,children:t.jsx(a,{variant:"h5",fontWeight:"bold",sx:{color:"#be185d"},children:(e==null?void 0:e.totalSupportTickets)||0})}),t.jsx(r,{title:"Total No. Notices Published",tooltip:"Total no of notices published this month.",value:((e==null?void 0:e.totalNoticesToday)||0)+((e==null?void 0:e.totalNoticesMonth)||0),percentage:"",isIncrease:!1,hideChart:!0,children:t.jsx(l,{display:"flex",gap:1,mt:2,children:[{label:"Today",color:"#0284c7",count:(e==null?void 0:e.totalNoticesToday)||0},{label:"This Month",color:"#9333ea",count:(e==null?void 0:e.totalNoticesMonth)||0}].map(o=>t.jsxs(l,{flex:1,p:1,textAlign:"center",bgcolor:"#f9fafb",borderRadius:2,children:[t.jsx(a,{variant:"caption",children:o.label}),t.jsx(a,{variant:"h5",fontWeight:"bold",sx:{color:o.color},children:o.count})]},o.label))})})]})]})]})},B=()=>t.jsx(t.Fragment,{children:t.jsx(R,{})});export{B as default};
