import{a as j,r as o,j as t,B as w}from"./index-N8t8oMzR.js";import{I as S}from"./Info-lyeC1xGk.js";import{C as v,a as C,b as M}from"./Check-CluHx-rq.js";import{T as I}from"./Typography-CKlLxaDL.js";import{T as f}from"./Tooltip-CwyNn424.js";import{C as A}from"./Chip-Dnlh_trd.js";import{C as T}from"./CircularProgress-BJr-bAJD.js";import{c as R}from"./createLucideIcon-hCp2CA4c.js";import"./createSvgIcon-DUEWsKfg.js";import"./utils-D3TFH80g.js";import"./useSlotProps-CaIca8GW.js";/**
 * @license lucide-react v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],K=R("globe",q),_={supportticket:"/superadmin/society-supportticket-management?type=admin",websiteenquiry:"/superadmin/society-supportticket-management?type=webuser"},z=[{key:"all",label:"All"},{key:"AdminSupportModule",label:"Admin Support Tickets"},{key:"WebsiteEnquiryModule",label:"Website Enquiry"}],D={supportticket:"bg-red-50",websiteenquiry:"bg-green-50"},E={supportticket:t.jsx(M,{size:18,className:"mr-2 text-red-600"}),websiteenquiry:t.jsx(K,{size:18,className:"mr-2 text-green-600"})},O=[{_id:"1",moduleKey:"supportticket",type:"AdminSupportModule",title:"New Support Ticket",message:"A new support ticket has been raised.",isRead:!1,createdAt:new Date().toISOString()},{_id:"2",moduleKey:"supportticket",type:"AdminSupportModule",title:"Ticket Updated",message:"Support ticket #124 has been updated.",isRead:!0,createdAt:new Date(Date.now()-36e5).toISOString()},{_id:"3",moduleKey:"supportticket",type:"AdminSupportModule",title:"Ticket Closed",message:"Support ticket #120 has been closed.",isRead:!1,createdAt:new Date(Date.now()-72e5).toISOString()},{_id:"4",moduleKey:"websiteenquiry",type:"WebsiteEnquiryModule",title:"New Enquiry",message:"New website enquiry has been raised.",isRead:!1,createdAt:new Date(Date.now()-72e5).toISOString()}],F=()=>{const x=j(),[c,y]=o.useState(O),[i,g]=o.useState("all"),[n,d]=o.useState(!1),p=o.useRef(null),u=o.useCallback(()=>{n||(d(!0),setTimeout(()=>{d(!1)},1e3))},[n]);o.useEffect(()=>{const e=p.current;if(!e)return;const s=new IntersectionObserver(r=>{r[0].isIntersecting&&u()},{rootMargin:"200px"});return s.observe(e),()=>s.disconnect()},[u]);const b=e=>{const s=_[e.moduleKey];s&&x(s)},h=(e,s)=>{e.stopPropagation(),y(r=>r.map(a=>a._id===s?{...a,isRead:!0}:a))},l=i==="all"?c:c.filter(e=>e.type===i||e.moduleKey===i);return t.jsxs("div",{className:"p-6 bg-gray-50 min-h-screen",children:[t.jsxs(I,{variant:"h5",fontWeight:500,className:"font-outfit",children:["Notification  ",t.jsx(f,{title:"Notification related to all modules.",arrow:!0,slotProps:{popper:{sx:{"& .MuiTooltip-tooltip":{fontSize:"0.9rem",backgroundColor:"#245492",color:"#fff",fontFamily:"Outfit",padding:"8px 12px"},"& .MuiTooltip-arrow":{color:"#245492"}}}},children:t.jsx(S,{fontSize:"medium",sx:{color:"#245492",cursor:"pointer"},onClick:e=>e.stopPropagation()})})]}),t.jsx(w,{className:"bg-white p-4 rounded-xl flex gap-3 mb-6 sticky top-0 z-10",children:z.map(e=>t.jsx(A,{label:e.label,clickable:!0,onClick:()=>g(e.key),variant:i===e.key?"filled":"outlined",sx:{backgroundColor:i===e.key?"#255593":"transparent",color:i===e.key?"#fff":"#255593",borderColor:"#255593"}},e.key))}),t.jsx("div",{className:"max-w-[900px] mx-auto",children:l.length===0?t.jsx("div",{className:"text-center text-gray-400",children:"No notifications"}):l.map((e,s)=>{const r=E[e.moduleKey]||t.jsx(v,{size:18}),a=D[e.moduleKey]||"",k=!e.isRead,m=s===l.length-1;return t.jsxs("div",{ref:m?p:null,onClick:()=>b(e),className:`p-4 mb-3 rounded-lg border cursor-pointer transition hover:shadow-md
                  ${a} ${k?"bg-blue-100 font-semibold":"opacity-70"}`,children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center",children:[r,e.title]}),t.jsx("div",{className:"text-sm text-gray-600 mt-1",children:e.message})]}),!e.isRead&&t.jsx(f,{title:"Mark as read",children:t.jsx("button",{onClick:N=>h(N,e._id),children:t.jsx(C,{})})})]}),t.jsx("div",{className:"text-xs text-gray-500 mt-1",children:new Date(e.createdAt).toLocaleString("en-IN")}),m&&n&&t.jsx("div",{className:"flex justify-center mt-4",children:t.jsx(T,{size:28})})]},e._id)})})]})},X=()=>t.jsx(t.Fragment,{children:t.jsx(F,{})});export{X as default};
