import{c as R,d as A,r as s,aK as T,j as e,B as u,aL as D,aM as b}from"./index-CNh2Ysd7.js";import{A as F}from"./Add-ONoAddvh.js";import{D as K,E as w}from"./DataTable-CBDiE-I1.js";import{D as E}from"./Delete-BKL8mfiA.js";import{V as z}from"./Visibility-CFK2wX7e.js";import{I as B}from"./Info-BLOe8JuO.js";import{B as k}from"./Button-D2SEshHa.js";import{S as v}from"./SweetAlert-DUVT9XWx.js";import{T as M}from"./ToggleSwitch-CRLgVpk1.js";import{A as U}from"./AddResidentUser-BZdE-I2g.js";import{T as V}from"./Typography-DxP0RQcB.js";import{T as n}from"./Tooltip-B4POfKz-.js";import{C as h}from"./Chip--RBU-Z22.js";import{I as p}from"./AlertTitle-BBXxFqxI.js";import"./createSvgIcon-BgVIxfXN.js";import"./Cancel-BLeHB2Qp.js";import"./utils-lR4eRFL7.js";import"./Close-CSWdanUp.js";import"./index-5igkt3_T.js";import"./DateTimeField-BSuPXSWe.js";import"./index-BfVZHwAX.js";import"./Dialog-CMeqEyOr.js";import"./useSlotProps-Dx6fg7Ph.js";import"./CircularProgress-B1SplcgD.js";import"./dividerClasses-BGxOqTuw.js";import"./Pagination-C_Nq6nsY.js";import"./DialogTitle-sP3uGIgc.js";import"./Divider-1omdH51K.js";import"./Tabs-DWd8sdsH.js";import"./skeleton-H-TAVWvB.js";import"./InputField-Cac7SuVh.js";import"./Alert-BBsTbpkb.js";const _=()=>{const r=R(),{residents:x,totalItems:f}=A(t=>t.resident),[l,g]=s.useState(0),[c,j]=s.useState(10),[y,o]=s.useState(!1),[N,a]=s.useState(null),[i,P]=s.useState(null),[d,m]=s.useState(null);s.useEffect(()=>{i!=null&&i._id&&r(T({societyId:i._id,page:l,limit:c}))},[r,l,c,i]);const S=[{accessorKey:"residentName",header:"Resident Name"},{accessorKey:"residentType",header:"Type"},{accessorKey:"flatType",header:"Flat Type"},{accessorKey:"flatSizeSqFt",header:"Sq Ft"},{accessorKey:"mobile",header:"Mobile"},{accessorKey:"email",header:"Email"},{accessorKey:"isActive",header:"Status",Cell:({cell:t})=>t.getValue()?e.jsx(h,{label:"Active",color:"success",size:"small"}):e.jsx(h,{label:"Inactive",color:"error",size:"small"})},{header:"Actions",Cell:({row:t})=>e.jsxs(u,{display:"flex",gap:1,children:[e.jsx(n,{title:"View",children:e.jsx(p,{onClick:()=>{a(t.original),o(!0)},children:e.jsx(z,{})})}),e.jsx(n,{title:"Edit",children:e.jsx(p,{onClick:()=>{a(t.original),o(!0)},children:e.jsx(w,{})})}),e.jsx(n,{title:"Delete",children:e.jsx(p,{color:"error",onClick:()=>m(t.original._id),children:e.jsx(E,{})})}),e.jsx(M,{checked:t.original.isActive,onChange:()=>r(b(t.original._id))})]})}],I=async()=>{d&&(await r(D(d)),m(null))};return e.jsxs(e.Fragment,{children:[e.jsx(v,{show:!!d,type:"error",title:"Delete Resident",message:"Are you sure you want to delete this resident?",onConfirm:I,onCancel:()=>m(null)}),y?e.jsx(U,{society:i,onCancel:()=>{o(!1),a(null)}}):e.jsxs(e.Fragment,{children:[e.jsxs(u,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxs(V,{variant:"h5",fontWeight:500,className:"font-outfit",children:["Resident Management"," ",e.jsx(n,{title:"Create society resident, edit and manage society resident.",arrow:!0,children:e.jsx(B,{sx:{color:"#245492",cursor:"pointer",ml:1}})})]}),e.jsxs(k,{onClick:()=>{a(null),o(!0)},children:[e.jsx(F,{})," Add Resident"]})]}),e.jsx(K,{data:x,columns:S,rowCount:f,pageIndex:l,pageSize:c,onPaginationChange:({pageIndex:t,pageSize:C})=>{g(t),j(C)}})]})]})},Se=()=>e.jsx(e.Fragment,{children:e.jsx(_,{})});export{Se as default};
