import{c as R,d as A,r as s,aK as T,j as e,B as u,aL as D,aM as b}from"./index-N8t8oMzR.js";import{A as F}from"./Add-BUtQdix6.js";import{D as K,E as w}from"./DataTable-BqUD-dAi.js";import{D as E}from"./Delete-07TAjR17.js";import{V as z}from"./Visibility-CgGAKN6P.js";import{I as B}from"./Info-lyeC1xGk.js";import{B as k}from"./Button-CBNcrDpD.js";import{S as v}from"./SweetAlert-vzLgp13W.js";import{T as M}from"./ToggleSwitch-DR4b514_.js";import{A as U}from"./AddResidentUser-CNSnLWqe.js";import{T as V}from"./Typography-CKlLxaDL.js";import{T as n}from"./Tooltip-CwyNn424.js";import{C as h}from"./Chip-Dnlh_trd.js";import{I as p}from"./AlertTitle-D9ejxV9_.js";import"./createSvgIcon-DUEWsKfg.js";import"./Cancel-BzUm9XFt.js";import"./utils-D3TFH80g.js";import"./Close-CwR_quIe.js";import"./index-LlRZSLEd.js";import"./DateTimeField-BNev5xzk.js";import"./index-CY0vqa8Z.js";import"./Dialog-BGF2t3L7.js";import"./useSlotProps-CaIca8GW.js";import"./CircularProgress-BJr-bAJD.js";import"./dividerClasses-D-RO7W6F.js";import"./Pagination-DjFC1aKN.js";import"./DialogTitle-D6DEKDqS.js";import"./Divider-TBuFGUUO.js";import"./Tabs-BUaZVZQS.js";import"./skeleton-CrFh5em0.js";import"./InputField-riaj6edy.js";import"./Alert-CgNUKTJk.js";const _=()=>{const r=R(),{residents:x,totalItems:f}=A(t=>t.resident),[l,g]=s.useState(0),[c,j]=s.useState(10),[y,o]=s.useState(!1),[N,a]=s.useState(null),[i,P]=s.useState(null),[d,m]=s.useState(null);s.useEffect(()=>{i!=null&&i._id&&r(T({societyId:i._id,page:l,limit:c}))},[r,l,c,i]);const S=[{accessorKey:"residentName",header:"Resident Name"},{accessorKey:"residentType",header:"Type"},{accessorKey:"flatType",header:"Flat Type"},{accessorKey:"flatSizeSqFt",header:"Sq Ft"},{accessorKey:"mobile",header:"Mobile"},{accessorKey:"email",header:"Email"},{accessorKey:"isActive",header:"Status",Cell:({cell:t})=>t.getValue()?e.jsx(h,{label:"Active",color:"success",size:"small"}):e.jsx(h,{label:"Inactive",color:"error",size:"small"})},{header:"Actions",Cell:({row:t})=>e.jsxs(u,{display:"flex",gap:1,children:[e.jsx(n,{title:"View",children:e.jsx(p,{onClick:()=>{a(t.original),o(!0)},children:e.jsx(z,{})})}),e.jsx(n,{title:"Edit",children:e.jsx(p,{onClick:()=>{a(t.original),o(!0)},children:e.jsx(w,{})})}),e.jsx(n,{title:"Delete",children:e.jsx(p,{color:"error",onClick:()=>m(t.original._id),children:e.jsx(E,{})})}),e.jsx(M,{checked:t.original.isActive,onChange:()=>r(b(t.original._id))})]})}],I=async()=>{d&&(await r(D(d)),m(null))};return e.jsxs(e.Fragment,{children:[e.jsx(v,{show:!!d,type:"error",title:"Delete Resident",message:"Are you sure you want to delete this resident?",onConfirm:I,onCancel:()=>m(null)}),y?e.jsx(U,{society:i,onCancel:()=>{o(!1),a(null)}}):e.jsxs(e.Fragment,{children:[e.jsxs(u,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2,children:[e.jsxs(V,{variant:"h5",fontWeight:500,className:"font-outfit",children:["Resident Management"," ",e.jsx(n,{title:"Create society resident, edit and manage society resident.",arrow:!0,children:e.jsx(B,{sx:{color:"#245492",cursor:"pointer",ml:1}})})]}),e.jsxs(k,{onClick:()=>{a(null),o(!0)},children:[e.jsx(F,{})," Add Resident"]})]}),e.jsx(K,{data:x,columns:S,rowCount:f,pageIndex:l,pageSize:c,onPaginationChange:({pageIndex:t,pageSize:C})=>{g(t),j(C)}})]})]})},Se=()=>e.jsx(e.Fragment,{children:e.jsx(_,{})});export{Se as default};
