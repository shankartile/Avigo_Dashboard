import{c as v,d as A,r as s,e6 as g,j as e,B as t,e7 as B}from"./index-N8t8oMzR.js";import{J as N}from"./jodit-react-CujUNROP.js";import{I as j}from"./InputField-riaj6edy.js";import{B as E}from"./Button-CBNcrDpD.js";import{A as R}from"./Alert-CgNUKTJk.js";import{S as i}from"./skeleton-CrFh5em0.js";import{T}from"./Typography-CKlLxaDL.js";import"./utils-D3TFH80g.js";import"./createSvgIcon-DUEWsKfg.js";import"./AlertTitle-D9ejxV9_.js";import"./CircularProgress-BJr-bAJD.js";const F=()=>{const n=v(),{data:r}=A(a=>a.termsandcondition),[d,u]=s.useState(!1),[c,h]=s.useState(""),[m,p]=s.useState(""),[l,x]=s.useState(null),[y,f]=s.useState(""),[b,o]=s.useState(!1),[w,S]=s.useState(!0);s.useEffect(()=>{const a=setTimeout(()=>S(!1),1e3);return()=>clearTimeout(a)},[]),s.useEffect(()=>{n(g())},[n]),s.useEffect(()=>{r&&(h(r.title),p(r.description))},[r]);const k=async()=>{if(!d){u(!0);try{if(!(r!=null&&r._id))return;await n(B({id:r._id,payload:{title:c,description:m}})).unwrap(),x("success"),f("Dealer Terms and Condition updated successfully."),o(!0),setTimeout(()=>o(!1),3e3),n(g())}catch{x("error"),f("Failed to update Terms and Conditions."),o(!0),setTimeout(()=>o(!1),3e3)}finally{u(!1)}}},C=c.trim()!==""&&m.trim()!=="",D=()=>e.jsxs(t,{className:"max-w-8xl mx-auto rounded-xl shadow-md bg-white mb-10",children:[e.jsx(t,{sx:{background:"linear-gradient( #255593 103.05%)",height:60,px:4,display:"flex",alignItems:"center",borderTopLeftRadius:12,borderTopRightRadius:12,color:"white"},children:e.jsx(i,{height:30,width:"40%"})}),e.jsxs(t,{className:"p-6 space-y-6",children:[e.jsxs(t,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(i,{height:56}),e.jsx(i,{height:56})]}),e.jsxs(t,{children:[e.jsx(i,{height:24,width:"20%",style:{marginBottom:8}}),e.jsx(i,{height:400})]}),e.jsx(t,{display:"flex",justifyContent:"center",gap:4,children:e.jsx(i,{height:40,width:120})})]})]});return e.jsxs(e.Fragment,{children:[b&&l&&e.jsx("div",{className:"p-4",children:e.jsx(R,{type:l,title:l==="success"?"Success!":l==="error"?"Error!":"Warning!",message:y,variant:"filled",showLink:!1,linkHref:"",linkText:"",onClose:()=>o(!1)})}),w?D():e.jsxs(t,{className:"max-w-8xl mx-auto rounded-xl shadow-md bg-white mb-10",children:[e.jsx(t,{sx:{background:"linear-gradient( #255593 103.05%)",height:60,px:4,display:"flex",alignItems:"center",justifyContent:"space-between",borderTopLeftRadius:12,borderTopRightRadius:12,color:"white"},children:e.jsx(T,{className:"font-outfit",variant:"h6",children:"Dealer Terms & Conditions"})}),e.jsxs(t,{className:"p-6 space-y-6",children:[e.jsxs(t,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(j,{label:"Title",name:"title",value:c,onChange:a=>h(a.target.value)}),e.jsx(j,{label:"Type",name:"type",value:"Dealer",disabled:!0})]}),e.jsxs(t,{children:[e.jsx(T,{variant:"subtitle1",className:"font-outfit mb-2 text-gray-600",children:"Description"}),e.jsx(N,{value:m,config:{height:400,uploader:{insertImageAsBase64URI:!0},toolbarAdaptive:!1,askBeforePasteHTML:!1,askBeforePasteFromWord:!1,defaultActionOnPaste:"insert_clear_html",enableDragAndDropFileToEditor:!0},onBlur:a=>p(a),onChange:()=>{}})]}),e.jsx(t,{display:"flex",justifyContent:"center",gap:4,children:e.jsx(E,{disabled:!C||d,onClick:k,children:d?"Updating...":"Update"})})]})]})]})},z=()=>e.jsx(e.Fragment,{children:e.jsx(F,{})});export{z as default};
