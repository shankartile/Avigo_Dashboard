import{j as Hn,r as n}from"./index-N8t8oMzR.js";import{c as Xn,r as Yn}from"./createSvgIcon-DUEWsKfg.js";const $r=Xn(Hn.jsx("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20z"})),Gt="carousel",Ue="controller",Bn="navigation",Kn="no-scroll",ft="portal",jn="root",qt="toolbar",Zr="captions",Gn="download",ye="fullscreen",zr="slideshow",Te="thumbnails",Rt="zoom",Ae="loading",qn="playing",We="error",$e="complete",Qn="placeholder",Re=e=>`active-slide-${e}`,Vr=Re(Ae),Ur=Re(qn),Hr=Re(We),Xr=Re($e),Qt="fullsize",Ce="flex_center",Jn="no_scroll",Jt="no_scroll_padding",ht="slide",en="slide_wrapper",eo="slide_wrapper_interactive",ue="prev",de="next",st="swipe",_e="close",tn="onPointerDown",nn="onPointerMove",on="onPointerUp",rn="onPointerLeave",ln="onPointerCancel",mt="onKeyDown",to="onKeyUp",pt="onWheel",no="Escape",oo="ArrowLeft",ro="ArrowRight",lo="button",ze="icon",sn="contain",Nt="cover",cn="Unknown action type",an="yarl__";function q(...e){return[...e].filter(Boolean).join(" ")}function L(e){return`${an}${e}`}function $(e){return`--${an}${e}`}function Ee(e,t){return`${e}${t?`_${t}`:""}`}function be(e){return t=>Ee(e,t)}function ge(e,t){var o;return(o=e==null?void 0:e[t])!==null&&o!==void 0?o:t}function un(e,t,o){return ge(e,"{index} of {total}").replace(/\{index}/g,`${bt(o,t.length)+1}`).replace(/\{total}/g,`${t.length}`)}function Ne(...e){return()=>{e.forEach(t=>{t()})}}function ne(e,t,o){return()=>{const r=n.useContext(o);if(!r)throw new Error(`${e} must be used within a ${t}.Provider`);return r}}function vt(){return typeof window<"u"}function gt(e,t=0){const o=10**t;return Math.round((e+Number.EPSILON)*o)/o}function fe(e){return e.type===void 0||e.type==="image"}function Et(e,t){return e.imageFit===Nt||e.imageFit!==sn&&t===Nt}function He(e){return typeof e=="string"?Number.parseInt(e,10):e}function Ve(e){if(typeof e=="number")return{pixel:e};if(typeof e=="string"){const t=He(e);return e.endsWith("%")?{percent:t}:{pixel:t}}return{pixel:0}}function so(e,t){const o=Ve(t),r=o.percent!==void 0?e.width/100*o.percent:o.pixel;return{width:Math.max(e.width-2*r,0),height:Math.max(e.height-2*r,0)}}function io(){return(vt()?window==null?void 0:window.devicePixelRatio:void 0)||1}function bt(e,t){return t>0?(e%t+t)%t:0}function wt(e){return e.length>0}function xt(e,t){return e[bt(t,e.length)]}function it(e,t){return wt(e)?xt(e,t):void 0}function dn(e){return fe(e)?e.src:void 0}function Xe(e,t,o){if(!o)return e;const{buttons:r,...l}=e,s=r.findIndex(c=>c===t),i=n.isValidElement(o)?n.cloneElement(o,{key:t},null):o;if(s>=0){const c=[...r];return c.splice(s,1,i),{buttons:c,...l}}return{buttons:[i,...r],...l}}function fn(e,t,o=0){return Math.min(e.preload,Math.max(e.finite?t.length-1:Math.floor(t.length/2),o))}const co=Number(n.version.split(".")[0])>=19;function ao(e){return{inert:co?e:e?"":void 0}}function uo(e){e.scrollTop}const ct={open:!1,close:()=>{},index:0,slides:[],render:{},plugins:[],toolbar:{buttons:[_e]},labels:{},animation:{fade:250,swipe:500,easing:{fade:"ease",swipe:"ease-out",navigation:"ease-in-out"}},carousel:{finite:!1,preload:2,padding:"16px",spacing:"30%",imageFit:sn,imageProps:{}},controller:{ref:null,focus:!0,aria:!1,touchAction:"none",closeOnPullUp:!1,closeOnPullDown:!1,closeOnBackdropClick:!1,preventDefaultWheelX:!0,preventDefaultWheelY:!1,disableSwipeNavigation:!1},portal:{},noScroll:{disabled:!1},on:{},styles:{},className:""};function ie(e,t){return{name:e,component:t}}function H(e,t){return{module:e,children:t}}function hn(e,t,o){return e.module.name===t?o(e):e.children?[H(e.module,e.children.flatMap(r=>{var l;return(l=hn(r,t,o))!==null&&l!==void 0?l:[]}))]:[e]}function xe(e,t,o){return e.flatMap(r=>{var l;return(l=hn(r,t,o))!==null&&l!==void 0?l:[]})}function fo(e,t=[],o=[]){let r=e;const l=m=>{const E=[...r];for(;E.length>0;){const v=E.pop();if((v==null?void 0:v.module.name)===m)return!0;v!=null&&v.children&&E.push(...v.children)}return!1},s=(m,E)=>{if(m===""){r=[H(E,r)];return}r=xe(r,m,v=>[H(E,[v])])},i=(m,E)=>{r=xe(r,m,v=>[H(v.module,[H(E,v.children)])])},c=(m,E,v)=>{r=xe(r,m,_=>{var x;return[H(_.module,[...v?[H(E)]:[],...(x=_.children)!==null&&x!==void 0?x:[],...v?[]:[H(E)]])]})},a=(m,E,v)=>{r=xe(r,m,_=>[...v?[H(E)]:[],_,...v?[]:[H(E)]])},f=m=>{i(Ue,m)},u=(m,E)=>{r=xe(r,m,v=>[H(E,v.children)])},d=m=>{r=xe(r,m,E=>E.children)},p=m=>{o.push(m)};return t.forEach(m=>{m({contains:l,addParent:s,append:i,addChild:c,addSibling:a,addModule:f,replace:u,remove:d,augment:p})}),{config:r,augmentation:m=>o.reduce((E,v)=>v(E),m)}}const mn=n.createContext(null),pn=ne("useA11yContext","A11yContext",mn);function ho({children:e}){const[t,o]=n.useState(!1),[r,l]=n.useState(!1),s=n.useMemo(()=>({focusWithin:t,trackFocusWithin:(c,a)=>{const f=u=>d=>{var p;d.currentTarget.contains(d.relatedTarget)||o(u),(p=u?c:a)===null||p===void 0||p(d)};return{onFocus:f(!0),onBlur:f(!1)}},autoPlaying:r,setAutoPlaying:l}),[t,r]);return n.createElement(mn.Provider,{value:s},e)}const vn=n.createContext(null),Pe=ne("useDocument","DocumentContext",vn);function mo({nodeRef:e,children:t}){const o=n.useMemo(()=>{const r=s=>{var i;return((i=s||e.current)===null||i===void 0?void 0:i.ownerDocument)||document};return{getOwnerDocument:r,getOwnerWindow:s=>{var i;return((i=r(s))===null||i===void 0?void 0:i.defaultView)||window}}},[e]);return n.createElement(vn.Provider,{value:o},t)}const gn=n.createContext(null),Oe=ne("useEvents","EventsContext",gn);function po({children:e}){const[t]=n.useState({});n.useEffect(()=>()=>{Object.keys(t).forEach(r=>delete t[r])},[t]);const o=n.useMemo(()=>{const r=(i,c)=>{var a;(a=t[i])===null||a===void 0||a.splice(0,t[i].length,...t[i].filter(f=>f!==c))};return{publish:(...[i,c])=>{var a;(a=t[i])===null||a===void 0||a.forEach(f=>f(c))},subscribe:(i,c)=>(t[i]||(t[i]=[]),t[i].push(c),()=>r(i,c)),unsubscribe:r}},[t]);return n.createElement(gn.Provider,{value:o},e)}const En=n.createContext(null),Y=ne("useLightboxProps","LightboxPropsContext",En);function bn({children:e,...t}){return n.createElement(En.Provider,{value:t},e)}const wn=n.createContext(null),oe=ne("useLightboxState","LightboxStateContext",wn),xn=n.createContext(null),vo=ne("useLightboxDispatch","LightboxDispatchContext",xn);function go(e,t){switch(t.type){case"swipe":{const{slides:o}=e,r=(t==null?void 0:t.increment)||0,l=e.globalIndex+r,s=bt(l,o.length),i=it(o,s),c=r||t.duration!==void 0?{increment:r,duration:t.duration,easing:t.easing}:void 0;return{slides:o,currentIndex:s,globalIndex:l,currentSlide:i,animation:c}}case"update":return t.slides!==e.slides||t.index!==e.currentIndex?{slides:t.slides,currentIndex:t.index,globalIndex:t.index,currentSlide:it(t.slides,t.index)}:e;default:throw new Error(cn)}}function Eo({slides:e,index:t,children:o}){const[r,l]=n.useReducer(go,{slides:e,currentIndex:t,globalIndex:t,currentSlide:it(e,t)});n.useEffect(()=>{l({type:"update",slides:e,index:t})},[e,t]);const s=n.useMemo(()=>({...r,state:r,dispatch:l}),[r,l]);return n.createElement(xn.Provider,{value:l},n.createElement(wn.Provider,{value:s},o))}const Cn=n.createContext(null),Ye=ne("useTimeouts","TimeoutsContext",Cn);function bo({children:e}){const[t]=n.useState([]);n.useEffect(()=>()=>{t.forEach(r=>window.clearTimeout(r)),t.splice(0,t.length)},[t]);const o=n.useMemo(()=>{const r=i=>{t.splice(0,t.length,...t.filter(c=>c!==i))};return{setTimeout:(i,c)=>{const a=window.setTimeout(()=>{r(a),i()},c);return t.push(a),a},clearTimeout:i=>{i!==void 0&&(r(i),window.clearTimeout(i))}}},[t]);return n.createElement(Cn.Provider,{value:o},e)}const Se=n.forwardRef(function({label:t,className:o,icon:r,renderIcon:l,onClick:s,style:i,...c},a){const{styles:f,labels:u}=Y(),d=ge(u,t);return n.createElement("button",{ref:a,type:"button",title:d,"aria-label":d,className:q(L(lo),o),onClick:s,style:{...i,...f.button},...c},l?l():n.createElement(r,{className:L(ze),style:f.icon}))});function _n(e,t){const o=r=>n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24","aria-hidden":"true",focusable:"false",...r},t);return o.displayName=e,o}function Q(e,t){return _n(e,n.createElement("g",{fill:"currentColor"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t))}function wo(e,t){return _n(e,n.createElement(n.Fragment,null,n.createElement("defs",null,n.createElement("mask",{id:"strike"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"white"}),n.createElement("path",{d:"M0 0L24 24",stroke:"black",strokeWidth:4}))),n.createElement("path",{d:"M0.70707 2.121320L21.878680 23.292883",stroke:"currentColor",strokeWidth:2}),n.createElement("g",{fill:"currentColor",mask:"url(#strike)"},n.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),t)))}const xo=Q("Close",n.createElement("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})),Co=Q("Previous",n.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"})),_o=Q("Next",n.createElement("path",{d:"M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"})),Po=Q("Loading",n.createElement(n.Fragment,null,Array.from({length:8}).map((e,t,o)=>n.createElement("line",{key:t,x1:"12",y1:"6.5",x2:"12",y2:"1.8",strokeLinecap:"round",strokeWidth:"2.6",stroke:"currentColor",strokeOpacity:1/o.length*(t+1),transform:`rotate(${360/o.length*t}, 12, 12)`})))),So=Q("Error",n.createElement("path",{d:"M21.9,21.9l-8.49-8.49l0,0L3.59,3.59l0,0L2.1,2.1L0.69,3.51L3,5.83V19c0,1.1,0.9,2,2,2h13.17l2.31,2.31L21.9,21.9z M5,18 l3.5-4.5l2.5,3.01L12.17,15l3,3H5z M21,18.17L5.83,3H19c1.1,0,2,0.9,2,2V18.17z"})),te=vt()?n.useLayoutEffect:n.useEffect;function Ct(){const[e,t]=n.useState(!1);return n.useEffect(()=>{var o,r;const l=(o=window.matchMedia)===null||o===void 0?void 0:o.call(window,"(prefers-reduced-motion: reduce)");t(l==null?void 0:l.matches);const s=i=>t(i.matches);return(r=l==null?void 0:l.addEventListener)===null||r===void 0||r.call(l,"change",s),()=>{var i;return(i=l==null?void 0:l.removeEventListener)===null||i===void 0?void 0:i.call(l,"change",s)}},[]),e}function Io(e){let t=0,o=0,r=0;const s=window.getComputedStyle(e).transform.match(/matrix.*\((.+)\)/);if(s){const i=s[1].split(",").map(He);i.length===6?(t=i[4],o=i[5]):i.length===16&&(t=i[12],o=i[13],r=i[14])}return{x:t,y:o,z:r}}function at(e,t){const o=n.useRef(void 0),r=n.useRef(void 0),l=Ct();return te(()=>{var s,i,c;if(e.current&&o.current!==void 0&&!l){const{keyframes:a,duration:f,easing:u,onfinish:d}=t(o.current,e.current.getBoundingClientRect(),Io(e.current))||{};if(a&&f){(s=r.current)===null||s===void 0||s.cancel(),r.current=void 0;try{r.current=(c=(i=e.current).animate)===null||c===void 0?void 0:c.call(i,a,{duration:f,easing:u})}catch(p){console.error(p)}r.current&&(r.current.onfinish=()=>{r.current=void 0,d==null||d()})}}o.current=void 0}),{prepareAnimation:s=>{o.current=s},isAnimationPlaying:()=>{var s;return((s=r.current)===null||s===void 0?void 0:s.playState)==="running"}}}function Pn(){const e=n.useRef(null),t=n.useRef(void 0),[o,r]=n.useState();return{setContainerRef:n.useCallback(s=>{e.current=s,t.current&&(t.current.disconnect(),t.current=void 0);const i=()=>{if(s){const c=window.getComputedStyle(s),a=f=>parseFloat(f)||0;r({width:Math.round(s.clientWidth-a(c.paddingLeft)-a(c.paddingRight)),height:Math.round(s.clientHeight-a(c.paddingTop)-a(c.paddingBottom))})}else r(void 0)};i(),s&&typeof ResizeObserver<"u"&&(t.current=new ResizeObserver(i),t.current.observe(s))},[]),containerRef:e,containerRect:o}}function Ze(){const e=n.useRef(void 0),{setTimeout:t,clearTimeout:o}=Ye();return n.useCallback((r,l)=>{o(e.current),e.current=t(r,l>0?l:0)},[t,o])}function D(e){const t=n.useRef(e);return te(()=>{t.current=e}),n.useCallback((...o)=>{var r;return(r=t.current)===null||r===void 0?void 0:r.call(t,...o)},[])}function Ot(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function ut(e,t){return n.useMemo(()=>e==null&&t==null?null:o=>{Ot(e,o),Ot(t,o)},[e,t])}function Lo(e,t=!1){const o=n.useRef(!1);te(()=>{t&&o.current&&(o.current=!1,e())},[t,e]);const r=n.useCallback(()=>{o.current=!0},[]),l=n.useCallback(()=>{o.current=!1},[]);return{onFocus:r,onBlur:l}}function Be(){const[e,t]=n.useState(!1);return te(()=>{t(window.getComputedStyle(window.document.documentElement).direction==="rtl")},[]),e}function Sn(){const[e]=n.useState({}),t=n.useCallback((l,s)=>{var i;(i=e[l])===null||i===void 0||i.forEach(c=>{s.isPropagationStopped()||c(s)})},[e]),o=n.useMemo(()=>({onPointerDown:l=>t(tn,l),onPointerMove:l=>t(nn,l),onPointerUp:l=>t(on,l),onPointerLeave:l=>t(rn,l),onPointerCancel:l=>t(ln,l),onKeyDown:l=>t(mt,l),onKeyUp:l=>t(to,l),onWheel:l=>t(pt,l)}),[t]),r=n.useCallback((l,s)=>(e[l]||(e[l]=[]),e[l].unshift(s),()=>{const i=e[l];i&&i.splice(0,i.length,...i.filter(c=>c!==s))}),[e]);return{registerSensors:o,subscribeSensors:r}}function kt(e,t){const o=n.useRef(0),r=Ze(),l=D((...s)=>{o.current=Date.now(),e(s)});return n.useCallback((...s)=>{r(()=>{l(s)},t-(Date.now()-o.current))},[t,l,r])}const et=be("slide"),tt=be("slide_image");function pe({slide:e,offset:t,render:o,rect:r,imageFit:l,imageProps:s,onClick:i,onLoad:c,onError:a,style:f}){var u,d,p,m,E,v,_,x;const[S,h]=n.useState(Ae),{publish:y}=Oe(),{setTimeout:I}=Ye(),T=n.useRef(null);n.useEffect(()=>{t===0&&y(Re(S))},[t,S,y]);const w=D(N=>{("decode"in N?N.decode():Promise.resolve()).catch(()=>{}).then(()=>{N.parentNode&&(h($e),I(()=>{c==null||c(N)},0))})}),F=n.useCallback(N=>{T.current=N,N!=null&&N.complete&&w(N)},[w]),C=n.useCallback(N=>{w(N.currentTarget)},[w]),z=D(()=>{h(We),a==null||a()}),O=Et(e,l),Z=(N,j)=>Number.isFinite(N)?N:j,P=Z(Math.max(...((d=(u=e.srcSet)===null||u===void 0?void 0:u.map(N=>N.width))!==null&&d!==void 0?d:[]).concat(e.width?[e.width]:[]).filter(Boolean)),((p=T.current)===null||p===void 0?void 0:p.naturalWidth)||0),W=Z(Math.max(...((E=(m=e.srcSet)===null||m===void 0?void 0:m.map(N=>N.height))!==null&&E!==void 0?E:[]).concat(e.height?[e.height]:[]).filter(Boolean)),((v=T.current)===null||v===void 0?void 0:v.naturalHeight)||0),k=P&&W?{maxWidth:`min(${P}px, 100%)`,maxHeight:`min(${W}px, 100%)`}:{maxWidth:"100%",maxHeight:"100%"},R=(_=e.srcSet)===null||_===void 0?void 0:_.sort((N,j)=>N.width-j.width).map(N=>`${N.src} ${N.width}w`).join(", "),g=()=>r&&!O&&e.width&&e.height?r.height/e.height*e.width:Number.MAX_VALUE,M=R&&r&&vt()?`${Math.round(Math.min(g(),r.width))}px`:void 0,{style:A,className:B,...U}=s||{};return n.createElement(n.Fragment,null,n.createElement("img",{ref:F,onLoad:C,onError:z,onClick:i,draggable:!1,className:q(L(tt()),O&&L(tt("cover")),S!==$e&&L(tt("loading")),B),style:{...k,...f,...A},...U,alt:(x=e.alt)!==null&&x!==void 0?x:"",sizes:M,srcSet:R,src:e.src}),S!==$e&&n.createElement("div",{className:L(et(Qn))},S===Ae&&(o!=null&&o.iconLoading?o.iconLoading():n.createElement(Po,{className:q(L(ze),L(et(Ae)))})),S===We&&(o!=null&&o.iconError?o.iconError():n.createElement(So,{className:q(L(ze),L(et(We)))}))))}const Mo=n.forwardRef(function({className:t,children:o,onFocus:r,onBlur:l,...s},i){const c=n.useRef(null),{trackFocusWithin:a}=pn();return n.createElement(mo,{nodeRef:c},n.createElement("div",{ref:ut(i,c),className:q(L("root"),t),...a(r,l),...s},o))});var K;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL",e[e.ANIMATION=3]="ANIMATION"})(K||(K={}));function In(e,t,o,r,l){n.useEffect(()=>l?()=>{}:Ne(e(tn,t),e(nn,o),e(on,r),e(rn,r),e(ln,r)),[e,t,o,r,l])}var ee;(function(e){e[e.NONE=0]="NONE",e[e.SWIPE=1]="SWIPE",e[e.PULL=2]="PULL"})(ee||(ee={}));const nt=30;function yo({disableSwipeNavigation:e,closeOnBackdropClick:t},o,r,l,s,i,c,a,f,u,d,p,m,E,v,_){const x=n.useRef(0),S=n.useRef([]),h=n.useRef(void 0),y=n.useRef(0),I=n.useRef(ee.NONE),T=n.useCallback(P=>{h.current===P.pointerId&&(h.current=void 0,I.current=ee.NONE);const W=S.current;W.splice(0,W.length,...W.filter(k=>k.pointerId!==P.pointerId))},[]),w=n.useCallback(P=>{T(P),P.persist(),S.current.push(P)},[T]),F=n.useCallback(P=>S.current.find(({pointerId:W})=>P.pointerId===W),[]),C=D(P=>{w(P)}),z=(P,W)=>d&&P>W||u&&P<-W,O=D(P=>{const W=F(P);if(W)if(h.current===P.pointerId){const k=Date.now()-y.current,R=x.current;I.current===ee.SWIPE?Math.abs(R)>.3*l||Math.abs(R)>5&&k<s?a(R,k):f(R):I.current===ee.PULL&&(z(R,2*nt)?E(R,k):v(R)),x.current=0,I.current=ee.NONE}else{const{target:k}=P;t&&k instanceof HTMLElement&&k===W.target&&(k.classList.contains(L(ht))||k.classList.contains(L(en)))&&_()}T(P)}),Z=D(P=>{const W=F(P);if(W){const k=h.current===P.pointerId;if(P.buttons===0){k&&x.current!==0?O(P):T(W);return}const R=P.clientX-W.clientX,g=P.clientY-W.clientY;if(h.current===void 0){const M=A=>{w(P),h.current=P.pointerId,y.current=Date.now(),I.current=A};Math.abs(R)>Math.abs(g)&&Math.abs(R)>nt&&r(R)?e||(M(ee.SWIPE),i()):Math.abs(g)>Math.abs(R)&&z(g,nt)&&(M(ee.PULL),p())}else k&&(I.current===ee.SWIPE?(x.current=R,c(R)):I.current===ee.PULL&&(x.current=g,m(g)))}});In(o,C,Z,O)}function To({preventDefaultWheelX:e,preventDefaultWheelY:t}){const o=n.useRef(null),r=D(l=>{const s=Math.abs(l.deltaX)>Math.abs(l.deltaY);(s&&e||!s&&t||l.ctrlKey)&&l.preventDefault()});return n.useCallback(l=>{var s;l?l.addEventListener("wheel",r,{passive:!1}):(s=o.current)===null||s===void 0||s.removeEventListener("wheel",r),o.current=l},[r])}function Ro(e,t,o,r,l,s,i,c,a){const f=n.useRef(0),u=n.useRef(0),d=n.useRef(void 0),p=n.useRef(void 0),m=n.useRef(0),E=n.useRef(void 0),v=n.useRef(0),{setTimeout:_,clearTimeout:x}=Ye(),S=n.useCallback(()=>{d.current&&(x(d.current),d.current=void 0)},[x]),h=n.useCallback(()=>{p.current&&(x(p.current),p.current=void 0)},[x]),y=D(()=>{e!==K.SWIPE&&(f.current=0,v.current=0,S(),h())});n.useEffect(y,[e,y]);const I=D(w=>{p.current=void 0,f.current===w&&a(f.current)}),T=D(w=>{if(w.ctrlKey||Math.abs(w.deltaY)>Math.abs(w.deltaX))return;const F=C=>{m.current=C,x(E.current),E.current=C>0?_(()=>{m.current=0,E.current=void 0},300):void 0};if(e===K.NONE){if(Math.abs(w.deltaX)<=1.2*Math.abs(m.current)){F(w.deltaX);return}if(!o(-w.deltaX))return;if(u.current+=w.deltaX,S(),Math.abs(u.current)>30)u.current=0,F(0),v.current=Date.now(),s();else{const C=u.current;d.current=_(()=>{d.current=void 0,C===u.current&&(u.current=0)},l)}}else if(e===K.SWIPE){let C=f.current-w.deltaX;if(C=Math.min(Math.abs(C),r)*Math.sign(C),f.current=C,i(C),h(),Math.abs(C)>.2*r){F(w.deltaX),c(C,Date.now()-v.current);return}p.current=_(()=>I(C),2*l)}else F(w.deltaX)});n.useEffect(()=>t(pt,T),[t,T])}const Dt=be("container"),Ln=n.createContext(null),ce=ne("useController","ControllerContext",Ln);function No({children:e,...t}){var o;const{carousel:r,animation:l,controller:s,on:i,styles:c,render:a}=t,{closeOnPullUp:f,closeOnPullDown:u,preventDefaultWheelX:d,preventDefaultWheelY:p}=s,[m,E]=n.useState(),v=oe(),_=vo(),[x,S]=n.useState(K.NONE),h=n.useRef(0),y=n.useRef(0),I=n.useRef(1),{registerSensors:T,subscribeSensors:w}=Sn(),{subscribe:F,publish:C}=Oe(),z=Ze(),O=Ze(),Z=Ze(),{containerRef:P,setContainerRef:W,containerRect:k}=Pn(),R=ut(To({preventDefaultWheelX:d,preventDefaultWheelY:p}),W),g=n.useRef(null),M=ut(g,void 0),{getOwnerDocument:A}=Pe(),B=Be(),U=b=>(B?-1:1)*(typeof b=="number"?b:1),N=D(()=>{var b;return(b=P.current)===null||b===void 0?void 0:b.focus()}),j=D(()=>t),ae=D(()=>v),re=n.useCallback(b=>C(ue,b),[C]),ke=n.useCallback(b=>C(de,b),[C]),we=n.useCallback(()=>C(_e),[C]),je=b=>!(r.finite&&(U(b)>0&&v.currentIndex===0||U(b)<0&&v.currentIndex===v.slides.length-1)),St=b=>{var V;h.current=b,(V=P.current)===null||V===void 0||V.style.setProperty($("swipe_offset"),`${Math.round(b)}px`)},Ge=b=>{var V,G;y.current=b,I.current=(()=>{const Le=u&&b>0?b:f&&b<0?-b:0;return Math.min(Math.max(gt(1-Le/60*(1-.5),2),.5),1)})(),(V=P.current)===null||V===void 0||V.style.setProperty($("pull_offset"),`${Math.round(b)}px`),(G=P.current)===null||G===void 0||G.style.setProperty($("pull_opacity"),`${I.current}`)},{prepareAnimation:$n}=at(g,(b,V,G)=>{if(g.current&&k)return{keyframes:[{transform:`translate(0, ${b.rect.y-V.y+G.y}px)`,opacity:b.opacity},{transform:"translate(0, 0)",opacity:1}],duration:b.duration,easing:l.easing.fade}}),It=(b,V)=>{if(f||u){Ge(b);let G=0;g.current&&(G=l.fade*(V?2:1),$n({rect:g.current.getBoundingClientRect(),opacity:I.current,duration:G})),Z(()=>{Ge(0),S(K.NONE)},G),S(K.ANIMATION),V||we()}},{prepareAnimation:Zn,isAnimationPlaying:zn}=at(g,(b,V,G)=>{var le;if(g.current&&k&&(!((le=v.animation)===null||le===void 0)&&le.duration)){const J=Ve(r.spacing),Le=(J.percent?J.percent*k.width/100:J.pixel)||0;return{keyframes:[{transform:`translate(${U(v.globalIndex-b.index)*(k.width+Le)+b.rect.x-V.x+G.x}px, 0)`},{transform:"translate(0, 0)"}],duration:v.animation.duration,easing:v.animation.easing}}}),Ie=D(b=>{var V,G;const le=b.offset||0,J=le?l.swipe:(V=l.navigation)!==null&&V!==void 0?V:l.swipe,Le=!le&&!zn()?l.easing.navigation:l.easing.swipe;let{direction:De}=b;const Fe=(G=b.count)!==null&&G!==void 0?G:1;let qe=K.ANIMATION,se=J*Fe;if(!De){const Me=k==null?void 0:k.width,Tt=b.duration||0,Je=Me?J/Me*Math.abs(le):J;Fe!==0?(Tt<Je?se=se/Je*Math.max(Tt,Je/5):Me&&(se=J/Me*(Me-Math.abs(le))),De=U(le)>0?ue:de):se=J/2}let Qe=0;De===ue?je(U(1))?Qe=-Fe:(qe=K.NONE,se=J):De===de&&(je(U(-1))?Qe=Fe:(qe=K.NONE,se=J)),se=Math.round(se),O(()=>{St(0),S(K.NONE)},se),g.current&&Zn({rect:g.current.getBoundingClientRect(),index:v.globalIndex}),S(qe),C(st,{type:"swipe",increment:Qe,duration:se,easing:Le})});n.useEffect(()=>{var b,V;!((b=v.animation)===null||b===void 0)&&b.increment&&(!((V=v.animation)===null||V===void 0)&&V.duration)&&z(()=>_({type:"swipe",increment:0}),v.animation.duration)},[v.animation,_,z]);const Lt=[w,je,(k==null?void 0:k.width)||0,l.swipe,()=>S(K.SWIPE),b=>St(b),(b,V)=>Ie({offset:b,duration:V,count:1}),b=>Ie({offset:b,count:0})],Vn=[()=>{u&&S(K.PULL)},b=>Ge(b),b=>It(b),b=>It(b,!0)];yo(s,...Lt,f,u,...Vn,we),Ro(x,...Lt);const Mt=D(()=>{s.focus&&A().querySelector(`.${L(ft)} .${L(Dt())}`)&&N()});n.useEffect(Mt,[Mt]);const yt=D(()=>{var b;(b=i.view)===null||b===void 0||b.call(i,{index:v.currentIndex})});n.useEffect(yt,[v.globalIndex,yt]),n.useEffect(()=>Ne(F(ue,b=>Ie({direction:ue,...b})),F(de,b=>Ie({direction:de,...b})),F(st,b=>_(b))),[F,Ie,_]);const Un=n.useMemo(()=>({prev:re,next:ke,close:we,focus:N,slideRect:k?so(k,r.padding):{width:0,height:0},containerRect:k||{width:0,height:0},subscribeSensors:w,containerRef:P,setCarouselRef:M,toolbarWidth:m,setToolbarWidth:E}),[re,ke,we,N,w,k,P,M,m,E,r.padding]);return n.useImperativeHandle(s.ref,()=>({prev:re,next:ke,close:we,focus:N,getLightboxProps:j,getLightboxState:ae}),[re,ke,we,N,j,ae]),n.createElement("div",{ref:R,className:q(L(Dt()),L(Ce)),style:{...x===K.SWIPE?{[$("swipe_offset")]:`${Math.round(h.current)}px`}:null,...x===K.PULL?{[$("pull_offset")]:`${Math.round(y.current)}px`,[$("pull_opacity")]:`${I.current}`}:null,...s.touchAction!=="none"?{[$("controller_touch_action")]:s.touchAction}:null,...c.container},tabIndex:-1,...T},k&&n.createElement(Ln.Provider,{value:Un},e,(o=a.controls)===null||o===void 0?void 0:o.call(a)))}const Oo=ie(Ue,No);function he(e){return Ee(Gt,e)}function Ft(e){return Ee(ht,e)}function ko({slide:e,offset:t}){const o=n.useRef(null),{currentIndex:r,slides:l}=oe(),{slideRect:s,focus:i}=ce(),{render:c,carousel:{imageFit:a,imageProps:f},on:{click:u},styles:{slide:d},labels:p}=Y(),{getOwnerDocument:m}=Pe(),E=t!==0;n.useEffect(()=>{var _;E&&(!((_=o.current)===null||_===void 0)&&_.contains(m().activeElement))&&i()},[E,i,m]);const v=()=>{var _,x,S,h;let y=(_=c.slide)===null||_===void 0?void 0:_.call(c,{slide:e,offset:t,rect:s});return!y&&fe(e)&&(y=n.createElement(pe,{slide:e,offset:t,render:c,rect:s,imageFit:a,imageProps:f,onClick:E?void 0:()=>u==null?void 0:u({index:r})})),y?n.createElement(n.Fragment,null,(x=c.slideHeader)===null||x===void 0?void 0:x.call(c,{slide:e}),((S=c.slideContainer)!==null&&S!==void 0?S:(({children:I})=>I))({slide:e,children:y}),(h=c.slideFooter)===null||h===void 0?void 0:h.call(c,{slide:e})):null};return n.createElement("div",{ref:o,className:q(L(Ft()),!E&&L(Ft("current")),L(Ce)),...ao(E),style:d,role:"group","aria-roledescription":ge(p,"Slide"),"aria-label":un(p,l,r+t)},v())}function Do(){const e=Y().styles.slide;return n.createElement("div",{className:L(ht),style:e})}function Fo({carousel:e,labels:t}){const{slides:o,currentIndex:r,globalIndex:l}=oe(),{setCarouselRef:s}=ce(),{autoPlaying:i,focusWithin:c}=pn(),a=Ve(e.spacing),f=Ve(e.padding),u=fn(e,o,1),d=[];if(wt(o))for(let p=r-u;p<=r+u;p+=1){const m=xt(o,p),E=l-r+p,v=e.finite&&(p<0||p>o.length-1);d.push(v?{key:E}:{key:[`${E}`,dn(m)].filter(Boolean).join("|"),offset:p-r,slide:m})}return n.createElement("div",{ref:s,className:q(L(he()),d.length>0&&L(he("with_slides"))),style:{[`${$(he("slides_count"))}`]:d.length,[`${$(he("spacing_px"))}`]:a.pixel||0,[`${$(he("spacing_percent"))}`]:a.percent||0,[`${$(he("padding_px"))}`]:f.pixel||0,[`${$(he("padding_percent"))}`]:f.percent||0},role:"region","aria-live":i&&!c?"off":"polite","aria-roledescription":ge(t,"Carousel"),"aria-label":ge(t,"Photo gallery")},d.map(({key:p,slide:m,offset:E})=>m?n.createElement(ko,{key:p,slide:m,offset:E}):n.createElement(Do,{key:p})))}const Ao=ie(Gt,Fo);function Mn(){const{carousel:e}=Y(),{slides:t,currentIndex:o}=oe(),r=t.length===0||e.finite&&o===0,l=t.length===0||e.finite&&o===t.length-1;return{prevDisabled:r,nextDisabled:l}}function yn(e){var t;const o=Be(),{publish:r}=Oe(),{animation:l}=Y(),{prevDisabled:s,nextDisabled:i}=Mn(),c=((t=l.navigation)!==null&&t!==void 0?t:l.swipe)/2,a=kt(()=>r(ue),c),f=kt(()=>r(de),c),u=D(d=>{switch(d.key){case no:r(_e);break;case oo:(o?i:s)||(o?f:a)();break;case ro:(o?s:i)||(o?a:f)();break}});n.useEffect(()=>e(mt,u),[e,u])}function At({label:e,icon:t,renderIcon:o,action:r,onClick:l,disabled:s,style:i}){return n.createElement(Se,{label:e,icon:t,renderIcon:o,className:L(`navigation_${r}`),disabled:s,onClick:l,style:i,...Lo(ce().focus,s)})}function Wo({render:{buttonPrev:e,buttonNext:t,iconPrev:o,iconNext:r},styles:l}){const{prev:s,next:i,subscribeSensors:c}=ce(),{prevDisabled:a,nextDisabled:f}=Mn();return yn(c),n.createElement(n.Fragment,null,e?e():n.createElement(At,{label:"Previous",action:ue,icon:Co,renderIcon:o,style:l.navigationPrev,disabled:a,onClick:s}),t?t():n.createElement(At,{label:"Next",action:de,icon:_o,renderIcon:r,style:l.navigationNext,disabled:f,onClick:i}))}const $o=ie(Bn,Wo),Wt=L(Jn),Zo=L(Jt);function zo(e){return"style"in e}function $t(e,t,o){const r=window.getComputedStyle(e),l=o?"padding-left":"padding-right",s=o?r.paddingLeft:r.paddingRight,i=e.style.getPropertyValue(l);return e.style.setProperty(l,`${(He(s)||0)+t}px`),()=>{i?e.style.setProperty(l,i):e.style.removeProperty(l)}}function Vo({noScroll:{disabled:e},children:t}){const o=Be(),{getOwnerDocument:r,getOwnerWindow:l}=Pe();return n.useEffect(()=>{if(e)return()=>{};const s=[],i=l(),{body:c,documentElement:a}=r(),f=Math.round(i.innerWidth-a.clientWidth);if(f>0){s.push($t(c,f,o));const u=c.getElementsByTagName("*");for(let d=0;d<u.length;d+=1){const p=u[d];zo(p)&&i.getComputedStyle(p).getPropertyValue("position")==="fixed"&&!p.classList.contains(Zo)&&s.push($t(p,f,o))}}return c.classList.add(Wt),()=>{c.classList.remove(Wt),s.forEach(u=>u())}},[o,e,r,l]),n.createElement(n.Fragment,null,t)}const Uo=ie(Kn,Vo);function Zt(e){return Ee(ft,e)}function zt(e,t,o){const r=e.getAttribute(t);return e.setAttribute(t,o),()=>{r?e.setAttribute(t,r):e.removeAttribute(t)}}function Ho({children:e,animation:t,styles:o,className:r,on:l,portal:s,close:i,labels:c}){const[a,f]=n.useState(!1),[u,d]=n.useState(!1),p=n.useRef([]),m=n.useRef(null),{setTimeout:E}=Ye(),{subscribe:v}=Oe(),x=Ct()?0:t.fade;n.useEffect(()=>(f(!0),()=>{f(!1),d(!1)}),[]);const S=D(()=>{p.current.forEach(T=>T()),p.current=[]}),h=D(()=>{var T;d(!1),S(),(T=l.exiting)===null||T===void 0||T.call(l),E(()=>{var w;(w=l.exited)===null||w===void 0||w.call(l),i()},x)});n.useEffect(()=>v(_e,h),[v,h]);const y=D(T=>{var w,F,C;uo(T),d(!0),(w=l.entering)===null||w===void 0||w.call(l);const z=(C=(F=T.parentNode)===null||F===void 0?void 0:F.children)!==null&&C!==void 0?C:[];for(let O=0;O<z.length;O+=1){const Z=z[O];["TEMPLATE","SCRIPT","STYLE"].indexOf(Z.tagName)===-1&&Z!==T&&(p.current.push(zt(Z,"inert","")),p.current.push(zt(Z,"aria-hidden","true")))}p.current.push(()=>{var O,Z;(Z=(O=m.current)===null||O===void 0?void 0:O.focus)===null||Z===void 0||Z.call(O)}),E(()=>{var O;(O=l.entered)===null||O===void 0||O.call(l)},x)}),I=n.useCallback(T=>{T?y(T):S()},[y,S]);return a?Yn.createPortal(n.createElement(Mo,{ref:I,className:q(r,L(Zt()),L(Jt),u&&L(Zt("open"))),"aria-modal":!0,role:"dialog","aria-label":ge(c,"Lightbox"),style:{...t.fade!==ct.animation.fade?{[$("fade_animation_duration")]:`${x}ms`}:null,...t.easing.fade!==ct.animation.easing.fade?{[$("fade_animation_timing_function")]:t.easing.fade}:null,...o.root},onFocus:T=>{m.current||(m.current=T.relatedTarget)}},e),s.root||document.body):null}const Xo=ie(ft,Ho);function Yo({children:e}){return n.createElement(n.Fragment,null,e)}const Bo=ie(jn,Yo);function Ko(e){return Ee(qt,e)}function jo({toolbar:{buttons:e},render:{buttonClose:t,iconClose:o},styles:r}){const{close:l,setToolbarWidth:s}=ce(),{setContainerRef:i,containerRect:c}=Pn();te(()=>{s(c==null?void 0:c.width)},[s,c==null?void 0:c.width]);const a=()=>t?t():n.createElement(Se,{key:_e,label:"Close",icon:xo,renderIcon:o,onClick:l});return n.createElement("div",{ref:i,style:r.toolbar,className:L(Ko())},e==null?void 0:e.map(f=>f===_e?a():f))}const Go=ie(qt,jo);function Tn(e,t){var o;return n.createElement(e.module.component,{key:e.module.name,...t},(o=e.children)===null||o===void 0?void 0:o.map(r=>Tn(r,t)))}function qo(e,t={}){const{easing:o,...r}=e,{easing:l,...s}=t;return{easing:{...o,...l},...r,...s}}function Yr({carousel:e,animation:t,render:o,toolbar:r,controller:l,noScroll:s,on:i,plugins:c,slides:a,index:f,...u}){const{animation:d,carousel:p,render:m,toolbar:E,controller:v,noScroll:_,on:x,slides:S,index:h,plugins:y,...I}=ct,{config:T,augmentation:w}=fo([H(Xo,[H(Uo,[H(Oo,[H(Ao),H(Go),H($o)])])])],c||y),F=w({animation:qo(d,t),carousel:{...p,...e},render:{...m,...o},toolbar:{...E,...r},controller:{...v,...l},noScroll:{..._,...s},on:{...x,...i},...I,...u});return F.open?n.createElement(bn,{...F},n.createElement(Eo,{slides:a||S,index:He(f||h)},n.createElement(bo,null,n.createElement(po,null,n.createElement(ho,null,Tn(H(Bo,T),F)))))):null}const Qo={auto:!1,ref:null},Rn=e=>({...Qo,...e}),Nn=n.createContext(null),Jo=ne("useFullscreen","FullscreenContext",Nn);function er({fullscreen:e,on:t,children:o}){const{auto:r,ref:l}=Rn(e),s=n.useRef(null),[i,c]=n.useState(),[a,f]=n.useState(!1),u=n.useRef(!1),{getOwnerDocument:d}=Pe();te(()=>{var h,y,I,T;const w=d();c(!((T=(I=(y=(h=w.fullscreenEnabled)!==null&&h!==void 0?h:w.webkitFullscreenEnabled)!==null&&y!==void 0?y:w.mozFullScreenEnabled)!==null&&I!==void 0?I:w.msFullscreenEnabled)!==null&&T!==void 0&&T))},[d]);const p=n.useCallback(()=>{var h;const y=d(),I=y.fullscreenElement||y.webkitFullscreenElement||y.mozFullScreenElement||y.msFullscreenElement;return((h=I==null?void 0:I.shadowRoot)===null||h===void 0?void 0:h.fullscreenElement)||I},[d]),m=n.useCallback(()=>{const h=s.current;try{h.requestFullscreen?h.requestFullscreen().catch(()=>{}):h.webkitRequestFullscreen?h.webkitRequestFullscreen():h.mozRequestFullScreen?h.mozRequestFullScreen():h.msRequestFullscreen&&h.msRequestFullscreen()}catch{}},[]),E=n.useCallback(()=>{if(!p())return;const h=d();try{h.exitFullscreen?h.exitFullscreen().catch(()=>{}):h.webkitExitFullscreen?h.webkitExitFullscreen():h.mozCancelFullScreen?h.mozCancelFullScreen():h.msExitFullscreen&&h.msExitFullscreen()}catch{}},[p,d]);n.useEffect(()=>{const h=d(),y=()=>{f(p()===s.current)};return Ne(...["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"].map(I=>(h.addEventListener(I,y),()=>h.removeEventListener(I,y))))},[p,d]);const v=D(()=>{var h;return(h=t.enterFullscreen)===null||h===void 0?void 0:h.call(t)}),_=D(()=>{var h;return(h=t.exitFullscreen)===null||h===void 0?void 0:h.call(t)});n.useEffect(()=>{a&&(u.current=!0),u.current&&(a?v:_)()},[a,v,_]);const x=D(()=>{var h;return(h=r?m:null)===null||h===void 0||h(),E});n.useEffect(x,[x]);const S=n.useMemo(()=>({fullscreen:a,disabled:i,enter:m,exit:E}),[a,i,m,E]);return n.useImperativeHandle(l,()=>S,[S]),n.createElement("div",{ref:s,className:q(L(ye),L(Qt))},n.createElement(Nn.Provider,{value:S},o))}const tr=Q("EnterFullscreen",n.createElement("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"})),nr=Q("ExitFullscreen",n.createElement("path",{d:"M5 16h3v3h2v-5H5v2zm3-8H5v2h5V5H8v3zm6 11h2v-3h3v-2h-5v5zm2-11V5h-2v5h5V8h-3z"}));function or(){var e;const{fullscreen:t,disabled:o,enter:r,exit:l}=Jo(),{render:s}=Y();return o?null:s.buttonFullscreen?n.createElement(n.Fragment,null,(e=s.buttonFullscreen)===null||e===void 0?void 0:e.call(s,{fullscreen:t,disabled:o,enter:r,exit:l})):n.createElement(Se,{disabled:o,label:t?"Exit Fullscreen":"Enter Fullscreen",icon:t?nr:tr,renderIcon:t?s.iconExitFullscreen:s.iconEnterFullscreen,onClick:t?l:r})}function Br({augment:e,contains:t,addParent:o}){e(({fullscreen:r,toolbar:l,...s})=>({toolbar:Xe(l,ye,n.createElement(or,null)),fullscreen:Rn(r),...s})),o(t(Te)?Te:Ue,ie(ye,er))}const me={ref:null,position:"bottom",width:120,height:80,border:1,borderRadius:4,padding:4,gap:16,imageFit:"contain",vignette:!0,hidden:!1,showToggle:!1},_t=e=>({...me,...e});function On(){const{thumbnails:e}=Y();return _t(e)}const ve=e=>Ee(Te,e),X=e=>ve(Ee("thumbnail",e)),rr=Q("VideoThumbnail",n.createElement("path",{d:"M10 16.5l6-4.5-6-4.5v9zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),lr=Q("UnknownThumbnail",n.createElement("path",{d:"M23 18V6c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h18c1.1 0 2-.9 2-2zM8.5 12.5l2.5 3.01L14.5 11l4.5 6H5l3.5-4.5z"}));function sr({slide:e,render:t,rect:o,imageFit:r}){var l;const s=(l=t.thumbnail)===null||l===void 0?void 0:l.call(t,{slide:e,render:t,rect:o,imageFit:r});if(s)return s;const i={render:t,rect:o,imageFit:r};if(e.thumbnail)return n.createElement(pe,{slide:{src:e.thumbnail},...i});if(fe(e))return n.createElement(pe,{slide:e,...i});const c=L(X(ze));return e.type==="video"?n.createElement(n.Fragment,null,e.poster&&n.createElement(pe,{slide:{src:e.poster},...i}),n.createElement(rr,{className:c})):n.createElement(lr,{className:c})}const ir=be("active"),ot=be("fadein"),rt=be("fadeout"),cr=be("placeholder"),Vt="delay",Ut="duration";function ar({slide:e,index:t,onClick:o,fadeIn:r,fadeOut:l,placeholder:s,onLoseFocus:i}){const c=n.useRef(null),{render:a,styles:f,labels:u}=Y(),{slides:d,globalIndex:p}=oe(),{getOwnerDocument:m}=Pe(),{width:E,height:v,imageFit:_}=On(),x={width:E,height:v},S=t===p,h=D(i);return n.useEffect(()=>{l&&m().activeElement===c.current&&h()},[l,h,m]),n.createElement("button",{ref:c,type:"button",className:q(L(Ce),L(X()),S&&L(X(ir())),r&&L(X(ot())),l&&L(X(rt())),s&&L(X(cr()))),style:{...r?{[$(X(ot(Ut)))]:`${r.duration}ms`,[$(X(ot(Vt)))]:`${r.delay}ms`}:null,...l?{[$(X(rt(Ut)))]:`${l.duration}ms`,[$(X(rt(Vt)))]:`${l.delay}ms`}:null,...f.thumbnail},onClick:o,"aria-current":S?!0:void 0,"aria-label":un(u,d,t)},e&&sr({slide:e,render:a,rect:x,imageFit:_}))}function Ht(e){return["top","bottom"].includes(e)}function Xt(e,t){return t+2*(e.border+e.padding)+e.gap}function ur(e){const{thumbnail:t,poster:o}=e||{thumbnail:"placeholder"};return typeof t=="string"&&t||typeof o=="string"&&o||e&&dn(e)||void 0}function Yt({visible:e,containerRef:t}){const o=n.useRef(null),r=Be(),{publish:l,subscribe:s}=Oe(),{carousel:i,styles:c,labels:a}=Y(),{slides:f,globalIndex:u,animation:d}=oe(),{registerSensors:p,subscribeSensors:m}=Sn();yn(m);const E=On(),{position:v,width:_,height:x,border:S,borderStyle:h,borderColor:y,borderRadius:I,padding:T,gap:w,vignette:F}=E,C=(d==null?void 0:d.duration)!==void 0&&(d==null?void 0:d.increment)||0,z=(d==null?void 0:d.duration)||0,{prepareAnimation:O}=at(o,R=>({keyframes:Ht(v)?[{transform:`translateX(${(r?-1:1)*Xt(E,_)*C+R}px)`},{transform:"translateX(0)"}]:[{transform:`translateY(${Xt(E,x)*C+R}px)`},{transform:"translateY(0)"}],duration:z,easing:d==null?void 0:d.easing})),Z=D(()=>{let R=0;if(t.current&&o.current){const g=t.current.getBoundingClientRect(),M=o.current.getBoundingClientRect();R=Ht(v)?M.left-g.left-(g.width-M.width)/2:M.top-g.top-(g.height-M.height)/2}O(R)});n.useEffect(()=>Ne(s(st,Z)),[s,Z]);const P=fn(i,f),W=[];if(wt(f))for(let R=u-P-Math.abs(C);R<=u+P+Math.abs(C);R+=1){const M=i.finite&&(R<0||R>f.length-1)||C<0&&R<u-P||C>0&&R>u+P?null:xt(f,R),A=[`${R}`,ur(M)].filter(Boolean).join("|");W.push({key:A,index:R,slide:M})}const k=R=>()=>{R>u?l(de,{count:R-u}):R<u&&l(ue,{count:u-R})};return n.createElement("div",{className:q(L(ve("container")),L(Ce)),style:{...e?null:{display:"none"},..._!==me.width?{[$(X("width"))]:`${_}px`}:null,...x!==me.height?{[$(X("height"))]:`${x}px`}:null,...S!==me.border?{[$(X("border"))]:`${S}px`}:null,...h?{[$(X("border_style"))]:h}:null,...y?{[$(X("border_color"))]:y}:null,...I!==me.borderRadius?{[$(X("border_radius"))]:`${I}px`}:null,...T!==me.padding?{[$(X("padding"))]:`${T}px`}:null,...w!==me.gap?{[$(X("gap"))]:`${w}px`}:null,...c.thumbnailsContainer}},n.createElement("nav",{ref:o,style:c.thumbnailsTrack,className:q(L(ve("track")),L(Ce)),"aria-label":ge(a,"Thumbnails"),tabIndex:-1,...p},W.map(({key:R,index:g,slide:M})=>{const A=z/Math.abs(C||1),B=C>0&&g>u+P-C&&g<=u+P||C<0&&g<u-P-C&&g>=u-P?{duration:A,delay:((C>0?g-(u+P-C):u-P-C-g)-1)*A}:void 0,U=C>0&&g<u-P||C<0&&g>u+P?{duration:A,delay:(C>0?C-(u-P-g):-C-(g-(u+P)))*A}:void 0;return n.createElement(ar,{key:R,index:g,slide:M,fadeIn:B,fadeOut:U,placeholder:!M,onClick:k(g),onLoseFocus:()=>{var N;return(N=o.current)===null||N===void 0?void 0:N.focus()}})})),F&&n.createElement("div",{className:L(ve("vignette"))}))}const kn=n.createContext(null),dr=ne("useThumbnails","ThumbnailsContext",kn);function fr({children:e,...t}){const{ref:o,position:r,hidden:l}=_t(t.thumbnails),[s,i]=n.useState(!l),c=n.useRef(null),a=n.useMemo(()=>({visible:s,show:()=>i(!0),hide:()=>i(!1)}),[s]);return n.useImperativeHandle(o,()=>a,[a]),n.createElement(bn,{...t},n.createElement(kn.Provider,{value:a},n.createElement("div",{ref:c,className:q(L(ve()),L(ve(`${r}`)))},["start","top"].includes(r)&&n.createElement(Yt,{containerRef:c,visible:s}),n.createElement("div",{className:L(ve("wrapper"))},e),["end","bottom"].includes(r)&&n.createElement(Yt,{containerRef:c,visible:s}))))}const Dn=()=>n.createElement(n.Fragment,null,n.createElement("path",{strokeWidth:2,stroke:"currentColor",strokeLinejoin:"round",fill:"none",d:"M3 5l18 0l0 14l-18 0l0-14z"}),n.createElement("path",{d:"M5 14h4v3h-4zM10 14h4v3h-4zM15 14h4v3h-4z"})),hr=Q("ThumbnailsVisible",Dn()),mr=wo("ThumbnailsHidden",Dn());function pr(){const{visible:e,show:t,hide:o}=dr(),{render:r}=Y();return r.buttonThumbnails?n.createElement(n.Fragment,null,r.buttonThumbnails({visible:e,show:t,hide:o})):n.createElement(Se,{label:e?"Hide thumbnails":"Show thumbnails",icon:e?hr:mr,renderIcon:e?r.iconThumbnailsVisible:r.iconThumbnailsHidden,onClick:e?o:t})}function Kr({augment:e,contains:t,append:o,addParent:r}){e(({thumbnails:s,toolbar:i,...c})=>{const a=_t(s);return{toolbar:Xe(i,Te,a.showToggle?n.createElement(pr,null):null),thumbnails:a,...c}});const l=ie(Te,fr);t(ye)?o(ye,l):r(Ue,l)}const vr={minZoom:1,maxZoomPixelRatio:1,zoomInMultiplier:2,doubleTapDelay:300,doubleClickDelay:500,doubleClickMaxStops:2,keyboardMoveDistance:50,wheelZoomDistanceFactor:100,pinchZoomDistanceFactor:100,scrollToZoom:!1};function gr(e){return Math.min(Math.max(e,Number.EPSILON),1)}function Fn(e){const{minZoom:t,...o}={...vr,...e};return{minZoom:gr(t),...o}}function Er(e,t,o,r){const l=n.useRef(void 0),s=n.useRef(void 0),{zoom:i}=Y().animation,c=Ct(),a=D(()=>{var f,u,d;if((f=l.current)===null||f===void 0||f.cancel(),l.current=void 0,s.current&&(r!=null&&r.current)){try{l.current=(d=(u=r.current).animate)===null||d===void 0?void 0:d.call(u,[{transform:s.current},{transform:`scale(${e}) translateX(${t}px) translateY(${o}px)`}],{duration:c?0:i??500,easing:l.current?"ease-out":"ease-in-out"})}catch(p){console.error(p)}s.current=void 0,l.current&&(l.current.onfinish=()=>{l.current=void 0})}});return te(a,[e,t,o,a]),n.useCallback(()=>{s.current=r!=null&&r.current?window.getComputedStyle(r.current).transform:void 0},[r])}function br(e,t){const{on:o}=Y(),r=D(()=>{var l;t||(l=o.zoom)===null||l===void 0||l.call(o,{zoom:e})});n.useEffect(r,[e,r])}function Ke(){const{zoom:e}=Y();return Fn(e)}function wr(e,t){var o,r;let l={width:0,height:0},s={width:0,height:0};const{currentSlide:i}=oe(),{imageFit:c}=Y().carousel,{maxZoomPixelRatio:a}=Ke();if(e&&i){const u={...i,...t};if(fe(u)){const d=Et(u,c),p=Math.max(...(((o=u.srcSet)===null||o===void 0?void 0:o.map(E=>E.width))||[]).concat(u.width?[u.width]:[])),m=Math.max(...(((r=u.srcSet)===null||r===void 0?void 0:r.map(E=>E.height))||[]).concat(u.height?[u.height]:[]));p>0&&m>0&&e.width>0&&e.height>0&&(s=d?{width:Math.round(Math.min(p,e.width/e.height*m)),height:Math.round(Math.min(m,e.height/e.width*p))}:{width:p,height:m},s={width:s.width*a,height:s.height*a},l=d?{width:Math.min(e.width,s.width,p),height:Math.min(e.height,s.height,m)}:{width:Math.round(Math.min(e.width,e.height/m*p,p)),height:Math.round(Math.min(e.height,e.width/p*m,m))})}}const f=l.width?Math.max(gt(s.width/l.width,5),1):1;return{imageRect:l,maxZoom:f}}function Bt(e,t){return((e.clientX-t.clientX)**2+(e.clientY-t.clientY)**2)**.5}function Kt(e,t,o=100,r=2){return e*Math.min(1+Math.abs(t/o),r)**Math.sign(t)}function xr(e,t,o,r,l,s,i,c,a){const f=n.useRef([]),u=n.useRef(0),d=n.useRef(void 0),{globalIndex:p}=oe(),{getOwnerWindow:m}=Pe(),{containerRef:E,subscribeSensors:v}=ce(),{keyboardMoveDistance:_,zoomInMultiplier:x,wheelZoomDistanceFactor:S,scrollToZoom:h,doubleTapDelay:y,doubleClickDelay:I,doubleClickMaxStops:T,pinchZoomDistanceFactor:w}=Ke(),F=n.useCallback(g=>{if(E.current){const{pageX:M,pageY:A}=g,{scrollX:B,scrollY:U}=m(),{left:N,top:j,width:ae,height:re}=E.current.getBoundingClientRect();return[M-N-B-ae/2,A-j-U-re/2]}return[]},[E,m]),C=D(g=>{const{key:M,metaKey:A,ctrlKey:B}=g,U=A||B,N=()=>{g.preventDefault(),g.stopPropagation()};if(e>1){const j=(ae,re)=>{N(),c(ae,re)};M==="ArrowDown"?j(0,_):M==="ArrowUp"?j(0,-_):M==="ArrowLeft"?j(-_,0):M==="ArrowRight"&&j(_,0)}M==="+"||U&&M==="="?(N(),l()):M==="-"||U&&M==="_"?(N(),s()):U&&M==="0"&&(N(),i(1))}),z=D(g=>{if((g.ctrlKey||h)&&Math.abs(g.deltaY)>Math.abs(g.deltaX)){g.stopPropagation(),i(Kt(e,-g.deltaY,S),!0,...F(g));return}e>1&&(g.stopPropagation(),h||c(g.deltaX,g.deltaY))}),O=n.useCallback(g=>{const M=f.current;M.splice(0,M.length,...M.filter(A=>A.pointerId!==g.pointerId))},[]),Z=n.useCallback(g=>{O(g),g.persist(),f.current.push(g)},[O]),P=D(g=>{var M;const A=f.current;if(g.pointerType==="mouse"&&g.buttons>1||!(!((M=a==null?void 0:a.current)===null||M===void 0)&&M.contains(g.target)))return;e>1&&g.stopPropagation();const{timeStamp:B}=g;if(A.length===0&&B-u.current<(g.pointerType==="touch"?y:I)){u.current=0;const U=e>=1?e!==o?e*Math.max(o**(1/T),x):1:e!==t?e/Math.max(t**(-1/T),x):1;i(U,!1,...F(g))}else u.current=B;Z(g),A.length===2&&(d.current=Bt(A[0],A[1]))}),W=D(g=>{const M=f.current,A=M.find(B=>B.pointerId===g.pointerId);if(M.length===2&&d.current){g.stopPropagation(),Z(g);const B=Bt(M[0],M[1]),U=B-d.current;Math.abs(U)>0&&(i(Kt(e,U,w),!0,...M.map(N=>F(N)).reduce((N,j)=>j.map((ae,re)=>N[re]+ae/2))),d.current=B);return}e>1&&(g.stopPropagation(),A&&(M.length===1&&c((A.clientX-g.clientX)/e,(A.clientY-g.clientY)/e),Z(g)))}),k=n.useCallback(g=>{const M=f.current;M.length===2&&M.find(A=>A.pointerId===g.pointerId)&&(d.current=void 0),O(g)},[O]),R=n.useCallback(()=>{const g=f.current;g.splice(0,g.length),u.current=0,d.current=void 0},[]);In(v,P,W,k,r),n.useEffect(R,[p,R]),n.useEffect(()=>r?()=>{}:Ne(R,v(mt,C),v(pt,z)),[r,v,R,C,z])}function Cr(e,t,o){const[r,l]=n.useState(1),[s,i]=n.useState(0),[c,a]=n.useState(0),f=Er(r,s,c,o),{currentSlide:u,globalIndex:d}=oe(),{containerRect:p,slideRect:m}=ce(),{minZoom:E,zoomInMultiplier:v}=Ke(),_=u&&fe(u)?u.src:void 0,x=!_||!(o!=null&&o.current);te(()=>{l(1),i(0),a(0)},[d,_]);const S=n.useCallback((w,F,C)=>{const z=C||r,O=s-(w||0),Z=c-(F||0),P=(e.width*z-m.width)/2/z,W=(e.height*z-m.height)/2/z;i(Math.min(Math.abs(O),Math.max(P,0))*Math.sign(O)),a(Math.min(Math.abs(Z),Math.max(W,0))*Math.sign(Z))},[r,s,c,m,e.width,e.height]),h=n.useCallback((w,F,C,z)=>{const O=gt(Math.min(Math.max(w+.001<t?w:t,E),t),5);O!==r&&(F||f(),S(C?C*(1/r-1/O):0,z?z*(1/r-1/O):0,O),l(O))},[r,E,t,S,f]),y=D(()=>{r>1&&(r>t&&h(t,!0),S())});te(y,[p.width,p.height,y]);const I=n.useCallback(()=>{const w=r*v;h(r<1&&w>1?1:w)},[r,v,h]),T=n.useCallback(()=>{const w=r/v;h(r>1&&w<1?1:w)},[r,v,h]);return{zoom:r,offsetX:s,offsetY:c,disabled:x,changeOffsets:S,changeZoom:h,zoomIn:I,zoomOut:T}}const An=n.createContext(null),Pt=ne("useZoom","ZoomControllerContext",An);function _r({children:e}){const[t,o]=n.useState(),{slideRect:r}=ce(),{ref:l,minZoom:s}=Ke(),{imageRect:i,maxZoom:c}=wr(r,t==null?void 0:t.imageDimensions),{zoom:a,offsetX:f,offsetY:u,disabled:d,changeZoom:p,changeOffsets:m,zoomIn:E,zoomOut:v}=Cr(i,c,t==null?void 0:t.zoomWrapperRef);br(a,d),xr(a,s,c,d,E,v,p,m,t==null?void 0:t.zoomWrapperRef);const _=n.useMemo(()=>({zoom:a,minZoom:s,maxZoom:c,offsetX:f,offsetY:u,disabled:d,zoomIn:E,zoomOut:v,changeZoom:p}),[a,s,c,f,u,d,E,v,p]);n.useImperativeHandle(l,()=>_,[_]);const x=n.useMemo(()=>({..._,setZoomWrapper:o}),[_,o]);return n.createElement(An.Provider,{value:x},e)}const Pr=Q("ZoomIn",n.createElement(n.Fragment,null,n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),n.createElement("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"}))),Sr=Q("ZoomOut",n.createElement("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"})),jt=n.forwardRef(function({zoomIn:t,onLoseFocus:o},r){const l=n.useRef(!1),s=n.useRef(!1),{zoom:i,minZoom:c,maxZoom:a,zoomIn:f,zoomOut:u,disabled:d}=Pt(),{render:p}=Y(),m=d||(t?i>=a:i<=c);return n.useEffect(()=>{m&&l.current&&s.current&&o(),m||(l.current=!0)},[m,o]),n.createElement(Se,{ref:r,disabled:m,label:t?"Zoom in":"Zoom out",icon:t?Pr:Sr,renderIcon:t?p.iconZoomIn:p.iconZoomOut,onClick:t?f:u,onFocus:()=>{s.current=!0},onBlur:()=>{s.current=!1}})});function Ir(){const e=n.useRef(null),t=n.useRef(null),{focus:o}=ce(),r=n.useCallback(i=>{var c,a;!((c=i.current)===null||c===void 0)&&c.disabled?o():(a=i.current)===null||a===void 0||a.focus()},[o]),l=n.useCallback(()=>r(e),[r]),s=n.useCallback(()=>r(t),[r]);return n.createElement(n.Fragment,null,n.createElement(jt,{zoomIn:!0,ref:e,onLoseFocus:s}),n.createElement(jt,{ref:t,onLoseFocus:l}))}function Lr(){const{render:e}=Y(),t=Pt();return e.buttonZoom?n.createElement(n.Fragment,null,e.buttonZoom(t)):n.createElement(Ir,null)}function Mr(e){var t;return(((t=e.srcSet)===null||t===void 0?void 0:t.length)||0)>0}function yr({current:e,preload:t},{type:o,source:r}){switch(o){case"fetch":return e?{current:e,preload:r}:{current:r};case"done":return r===t?{current:r}:{current:e,preload:t};default:throw new Error(cn)}}function Tr(e){var t,o;const[{current:r,preload:l},s]=n.useReducer(yr,{}),{slide:i,rect:c,imageFit:a,render:f,interactive:u}=e,d=i.srcSet.sort((I,T)=>I.width-T.width),p=(t=i.width)!==null&&t!==void 0?t:d[d.length-1].width,m=(o=i.height)!==null&&o!==void 0?o:d[d.length-1].height,E=Et(i,a),v=Math.max(...d.map(I=>I.width)),_=Math.min((E?Math.max:Math.min)(c.width,p*(c.height/m)),v),x=io(),S=D(()=>{var I;const T=(I=d.find(w=>w.width>=_*x))!==null&&I!==void 0?I:d[d.length-1];(!r||d.findIndex(w=>w.src===r)<d.findIndex(w=>w===T))&&s({type:"fetch",source:T.src})});te(S,[c.width,c.height,x,S]);const h=D(I=>s({type:"done",source:I})),y={WebkitTransform:u?"initial":"translateZ(0)"};return E||Object.assign(y,c.width/c.height<p/m?{width:"100%",height:"auto"}:{width:"auto",height:"100%"}),n.createElement(n.Fragment,null,l&&l!==r&&n.createElement(pe,{key:"preload",...e,offset:void 0,slide:{...i,src:l,srcSet:void 0},style:{position:"absolute",visibility:"hidden",...y},onLoad:()=>h(l),render:{...f,iconLoading:()=>null,iconError:()=>null}}),r&&n.createElement(pe,{key:"current",...e,slide:{...i,src:r,srcSet:void 0},style:y}))}function Rr({render:e,slide:t,offset:o,rect:r}){var l;const[s,i]=n.useState(),c=n.useRef(null),{zoom:a,maxZoom:f,offsetX:u,offsetY:d,setZoomWrapper:p}=Pt(),m=a>1,{carousel:E,on:v}=Y(),{currentIndex:_}=oe();te(()=>o===0?(p({zoomWrapperRef:c,imageDimensions:s}),()=>p(void 0)):()=>{},[o,s,p]);let x=(l=e.slide)===null||l===void 0?void 0:l.call(e,{slide:t,offset:o,rect:r,zoom:a,maxZoom:f});if(!x&&fe(t)){const S={slide:t,offset:o,rect:r,render:e,imageFit:E.imageFit,imageProps:E.imageProps,onClick:o===0?()=>{var h;return(h=v.click)===null||h===void 0?void 0:h.call(v,{index:_})}:void 0};x=Mr(t)?n.createElement(Tr,{...S,slide:t,interactive:m,rect:o===0?{width:r.width*a,height:r.height*a}:r}):n.createElement(pe,{onLoad:h=>i({width:h.naturalWidth,height:h.naturalHeight}),...S})}return x?n.createElement("div",{ref:c,className:q(L(Qt),L(Ce),L(en),m&&L(eo)),style:o===0?{transform:`scale(${a}) translateX(${u}px) translateY(${d}px)`}:void 0},x):null}const jr=({augment:e,addModule:t})=>{e(({zoom:o,toolbar:r,render:l,controller:s,...i})=>{const c=Fn(o);return{zoom:c,toolbar:Xe(r,Rt,n.createElement(Lr,null)),render:{...l,slide:a=>{var f;return fe(a.slide)?n.createElement(Rr,{render:l,...a}):(f=l.slide)===null||f===void 0?void 0:f.call(l,a)}},controller:{...s,preventDefaultWheelY:c.scrollToZoom},...i}}),t(ie(Rt,_r))},Nr={download:void 0},Wn=e=>({...Nr,...e});function Or(e,t){const o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=()=>{dt(o.response,t)},o.onerror=()=>{console.error("Failed to download file")},o.send()}function kr(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function lt(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{const o=document.createEvent("MouseEvents");o.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(o)}}function dt(e,t){const o=document.createElement("a");o.rel="noopener",o.download=t||"",o.download||(o.target="_blank"),typeof e=="string"?(o.href=e,o.origin!==window.location.origin?kr(o.href)?Or(e,t):(o.target="_blank",lt(o)):lt(o)):(o.href=URL.createObjectURL(e),setTimeout(()=>URL.revokeObjectURL(o.href),3e4),setTimeout(()=>lt(o),0))}const Dr=Q("DownloadIcon",n.createElement("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"}));function Fr(){const{render:e,on:t,download:o}=Y(),{download:r}=Wn(o),{currentSlide:l,currentIndex:s}=oe();if(e.buttonDownload)return n.createElement(n.Fragment,null,e.buttonDownload());const i=l&&(l.downloadUrl||typeof l.download=="string"&&l.download||typeof l.download=="object"&&l.download.url||fe(l)&&l.src)||void 0,c=r?(l==null?void 0:l.download)!==!1:!!i,a=()=>{if(l&&i){const u=l.downloadFilename||typeof l.download=="object"&&l.download.filename||void 0;dt(i,u)}},f=()=>{var u;l&&((r||a)({slide:l,saveAs:dt}),(u=t.download)===null||u===void 0||u.call(t,{index:s}))};return n.createElement(Se,{label:"Download",icon:Dr,renderIcon:e.iconDownload,disabled:!c,onClick:f})}function Gr({augment:e}){e(({toolbar:t,download:o,...r})=>({toolbar:Xe(t,Gn,n.createElement(Fr,null)),download:Wn(o),...r}))}export{$r as A,Gr as D,Br as F,Se as I,Yr as L,zr as P,Ae as S,Kr as T,jr as Z,Xe as a,Lo as b,ie as c,ce as d,Q as e,oe as f,Ye as g,Oe as h,pn as i,D as j,qn as k,Ne as l,ne as m,Xr as n,$e as o,Hr as p,We as q,Ur as r,Vr as s,Zr as t,Y as u,wo as v,q as w,L as x,$ as y,ge as z};
